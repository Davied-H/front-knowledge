<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vite å¤šç¯å¢ƒé…ç½®ç®¡ç† - å‰ç«¯å·¥ç¨‹åŒ–å®è·µ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    .step-dot { transition: all 0.3s ease; }
    .step-dot.active { background-color: #8b5cf6; transform: scale(1.2); }
    .step-dot.completed { background-color: #22c55e; }

    .code-block {
      background: #1e293b;
      border-radius: 8px;
      padding: 16px;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 14px;
      overflow-x: auto;
    }

    .file-tab {
      background: #334155;
      border-radius: 8px 8px 0 0;
      padding: 8px 16px;
      font-size: 12px;
      color: #94a3b8;
      display: inline-block;
      margin-bottom: -1px;
    }

    .file-tab.active {
      background: #1e293b;
      color: #e2e8f0;
    }

    .gradient-card {
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(34, 197, 94, 0.1));
      border: 1px solid rgba(139, 92, 246, 0.3);
    }

    .env-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 12px;
      border-radius: 9999px;
      font-size: 12px;
      font-weight: 600;
    }

    .env-dev { background: rgba(34, 197, 94, 0.2); color: #4ade80; border: 1px solid rgba(34, 197, 94, 0.3); }
    .env-staging { background: rgba(251, 191, 36, 0.2); color: #fbbf24; border: 1px solid rgba(251, 191, 36, 0.3); }
    .env-prod { background: rgba(239, 68, 68, 0.2); color: #f87171; border: 1px solid rgba(239, 68, 68, 0.3); }

    .tree-line {
      border-left: 2px solid #475569;
      margin-left: 12px;
      padding-left: 20px;
    }
  </style>
</head>
<body class="min-h-screen bg-slate-900 text-white p-8">
  <div id="capture">
  <h1 class="text-3xl font-bold text-center mb-2">Vite å¤šç¯å¢ƒé…ç½®ç®¡ç†</h1>
  <p class="text-slate-400 text-center mb-8">æŒæ¡å‰ç«¯é¡¹ç›®çš„ç¯å¢ƒå˜é‡ä¸å¤šç¯å¢ƒéƒ¨ç½²</p>

  <!-- Step Indicator -->
  <div class="flex justify-center items-center gap-3 mb-8">
    <button class="step-dot active w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="0">1</button>
    <div class="w-6 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="1">2</button>
    <div class="w-6 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="2">3</button>
    <div class="w-6 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="3">4</button>
    <div class="w-6 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="4">5</button>
  </div>

  <!-- Step Labels -->
  <div class="flex justify-center gap-2 mb-8 flex-wrap">
    <span class="step-label text-purple-400 text-sm px-3 py-1 bg-purple-500/20 rounded-full" data-step="0">ä¸ºä»€ä¹ˆéœ€è¦</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="1">.env æ–‡ä»¶è§„åˆ™</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="2">ä½¿ç”¨ç¯å¢ƒå˜é‡</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="3">å¤šç¯å¢ƒå®æˆ˜</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="4">æœ€ä½³å®è·µ</span>
  </div>

  <!-- Step 0: Why We Need -->
  <div id="step-0" class="tab-content active max-w-4xl mx-auto">
    <div class="gradient-card rounded-xl p-6 mb-6">
      <h2 class="text-xl font-semibold mb-4 text-center">ä¸ºä»€ä¹ˆéœ€è¦å¤šç¯å¢ƒé…ç½®ï¼Ÿ</h2>

      <div class="bg-slate-800 rounded-lg p-4 mb-4">
        <p class="text-slate-300 leading-relaxed">
          åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬çš„åº”ç”¨é€šå¸¸éœ€è¦è¿è¡Œåœ¨<strong class="text-purple-400">å¤šä¸ªä¸åŒçš„ç¯å¢ƒ</strong>ä¸­ï¼š
          å¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒã€é¢„å‘å¸ƒç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒç­‰ã€‚
        </p>
        <p class="text-slate-400 text-sm mt-2">
          ä¸åŒç¯å¢ƒä¸‹ï¼Œ<strong class="text-amber-300">API åœ°å€ã€é…ç½®å‚æ•°ã€åŠŸèƒ½å¼€å…³</strong>ç­‰éƒ½å¯èƒ½ä¸åŒã€‚
        </p>
      </div>

      <!-- Environment Examples -->
      <div class="grid md:grid-cols-3 gap-4 mt-6">
        <div class="bg-slate-800 rounded-lg p-4 text-center">
          <span class="env-badge env-dev mb-3">Development</span>
          <div class="text-sm text-slate-400 mt-2">
            <p>API: localhost:3000</p>
            <p>Debug: å¼€å¯</p>
            <p>Mock: ä½¿ç”¨</p>
          </div>
        </div>
        <div class="bg-slate-800 rounded-lg p-4 text-center">
          <span class="env-badge env-staging mb-3">Staging</span>
          <div class="text-sm text-slate-400 mt-2">
            <p>API: staging.api.com</p>
            <p>Debug: å¼€å¯</p>
            <p>Mock: ä¸ä½¿ç”¨</p>
          </div>
        </div>
        <div class="bg-slate-800 rounded-lg p-4 text-center">
          <span class="env-badge env-prod mb-3">Production</span>
          <div class="text-sm text-slate-400 mt-2">
            <p>API: api.example.com</p>
            <p>Debug: å…³é—­</p>
            <p>Mock: ä¸ä½¿ç”¨</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Pain Points -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h2 class="text-xl font-semibold mb-4 text-red-400">æ²¡æœ‰ç¯å¢ƒé…ç½®çš„ç—›ç‚¹</h2>

      <div class="grid md:grid-cols-2 gap-4">
        <div class="bg-red-500/10 border border-red-500/30 rounded-lg p-4">
          <div class="flex items-start gap-3">
            <span class="text-red-400 text-xl">1</span>
            <div>
              <div class="font-semibold text-red-300">æ‰‹åŠ¨ä¿®æ”¹ä»£ç </div>
              <p class="text-sm text-slate-400 mt-1">æ¯æ¬¡éƒ¨ç½²éƒ½è¦æ‰‹åŠ¨æ”¹ API åœ°å€ï¼Œå®¹æ˜“å‡ºé”™</p>
            </div>
          </div>
        </div>
        <div class="bg-red-500/10 border border-red-500/30 rounded-lg p-4">
          <div class="flex items-start gap-3">
            <span class="text-red-400 text-xl">2</span>
            <div>
              <div class="font-semibold text-red-300">æ•æ„Ÿä¿¡æ¯æ³„éœ²</div>
              <p class="text-sm text-slate-400 mt-1">å¯†é’¥å†™åœ¨ä»£ç é‡Œï¼Œä¸å°å¿ƒæäº¤åˆ° Git</p>
            </div>
          </div>
        </div>
        <div class="bg-red-500/10 border border-red-500/30 rounded-lg p-4">
          <div class="flex items-start gap-3">
            <span class="text-red-400 text-xl">3</span>
            <div>
              <div class="font-semibold text-red-300">å›¢é˜Ÿåä½œå›°éš¾</div>
              <p class="text-sm text-slate-400 mt-1">ä¸åŒå¼€å‘è€…çš„æœ¬åœ°é…ç½®ä¸ä¸€è‡´</p>
            </div>
          </div>
        </div>
        <div class="bg-red-500/10 border border-red-500/30 rounded-lg p-4">
          <div class="flex items-start gap-3">
            <span class="text-red-400 text-xl">4</span>
            <div>
              <div class="font-semibold text-red-300">éƒ¨ç½²æµç¨‹å¤æ‚</div>
              <p class="text-sm text-slate-400 mt-1">CI/CD æ— æ³•è‡ªåŠ¨åŒ–å¤„ç†ç¯å¢ƒå·®å¼‚</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Vite Solution -->
    <div class="bg-green-500/10 border border-green-500/30 rounded-xl p-6">
      <div class="flex items-center gap-3 mb-4">
        <span class="text-3xl">âš¡</span>
        <h2 class="text-xl font-semibold text-green-400">Vite çš„è§£å†³æ–¹æ¡ˆ</h2>
      </div>
      <p class="text-slate-300">
        Vite å†…ç½®äº†<strong class="text-green-300">ç¯å¢ƒå˜é‡</strong>æ”¯æŒï¼Œé€šè¿‡ <code class="bg-slate-700 px-2 py-0.5 rounded">.env</code> æ–‡ä»¶
        å¯ä»¥è½»æ¾ç®¡ç†ä¸åŒç¯å¢ƒçš„é…ç½®ï¼Œæ— éœ€ä¿®æ”¹ä»£ç ï¼Œå®‰å…¨ä¸”è‡ªåŠ¨åŒ–ã€‚
      </p>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <div></div>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-500 rounded-lg font-semibold transition-all group">
        <span>ä¸‹ä¸€æ­¥ï¼š.env æ–‡ä»¶è§„åˆ™</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">â†’</span>
      </button>
    </div>
  </div>

  <!-- Step 1: .env File Rules -->
  <div id="step-1" class="tab-content max-w-4xl mx-auto">
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h2 class="text-xl font-semibold mb-4 text-purple-400">.env æ–‡ä»¶å‘½åè§„åˆ™</h2>

      <p class="text-slate-300 mb-4">
        Vite ä¼šæ ¹æ®<strong class="text-amber-300">å¯åŠ¨æ¨¡å¼</strong>è‡ªåŠ¨åŠ è½½å¯¹åº”çš„ .env æ–‡ä»¶ã€‚
      </p>

      <!-- File Structure -->
      <div class="bg-slate-900 rounded-lg p-4 mb-6">
        <div class="text-sm text-slate-400 mb-3">é¡¹ç›®æ ¹ç›®å½•</div>
        <div class="font-mono text-sm">
          <div class="flex items-center gap-2 text-slate-300">
            <span class="text-yellow-400">ğŸ“</span> my-vite-project/
          </div>
          <div class="tree-line">
            <div class="flex items-center gap-2 py-1">
              <span class="text-green-400">ğŸ“„</span>
              <span class="text-white">.env</span>
              <span class="text-slate-500 text-xs ml-2">â† æ‰€æœ‰ç¯å¢ƒéƒ½ä¼šåŠ è½½</span>
            </div>
            <div class="flex items-center gap-2 py-1">
              <span class="text-green-400">ğŸ“„</span>
              <span class="text-white">.env.local</span>
              <span class="text-slate-500 text-xs ml-2">â† æœ¬åœ°è¦†ç›–ï¼Œè¢« git å¿½ç•¥</span>
            </div>
            <div class="flex items-center gap-2 py-1">
              <span class="text-blue-400">ğŸ“„</span>
              <span class="text-white">.env.development</span>
              <span class="text-slate-500 text-xs ml-2">â† å¼€å‘ç¯å¢ƒ</span>
            </div>
            <div class="flex items-center gap-2 py-1">
              <span class="text-yellow-400">ğŸ“„</span>
              <span class="text-white">.env.staging</span>
              <span class="text-slate-500 text-xs ml-2">â† é¢„å‘å¸ƒç¯å¢ƒ</span>
            </div>
            <div class="flex items-center gap-2 py-1">
              <span class="text-red-400">ğŸ“„</span>
              <span class="text-white">.env.production</span>
              <span class="text-slate-500 text-xs ml-2">â† ç”Ÿäº§ç¯å¢ƒ</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Loading Priority -->
      <div class="bg-purple-500/10 border border-purple-500/30 rounded-lg p-4">
        <h3 class="font-semibold text-purple-300 mb-3">åŠ è½½ä¼˜å…ˆçº§ï¼ˆååŠ è½½çš„ä¼šè¦†ç›–å‰é¢çš„ï¼‰</h3>
        <div class="flex flex-wrap items-center gap-2 text-sm">
          <span class="bg-slate-700 px-3 py-1 rounded">.env</span>
          <span class="text-slate-500">â†’</span>
          <span class="bg-slate-700 px-3 py-1 rounded">.env.local</span>
          <span class="text-slate-500">â†’</span>
          <span class="bg-slate-700 px-3 py-1 rounded">.env.[mode]</span>
          <span class="text-slate-500">â†’</span>
          <span class="bg-purple-600 px-3 py-1 rounded">.env.[mode].local</span>
        </div>
        <p class="text-slate-400 text-xs mt-3">
          <strong class="text-amber-300">æç¤ºï¼š</strong>.local æ–‡ä»¶ä¸ä¼šè¢«æäº¤åˆ° Gitï¼Œé€‚åˆå­˜æ”¾ä¸ªäººé…ç½®å’Œæ•æ„Ÿä¿¡æ¯
        </p>
      </div>
    </div>

    <!-- Mode Explanation -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h3 class="text-lg font-semibold mb-4">ä»€ä¹ˆæ˜¯ Modeï¼ˆæ¨¡å¼ï¼‰ï¼Ÿ</h3>

      <div class="space-y-4">
        <div class="bg-slate-900 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="env-badge env-dev">development</span>
            <code class="text-slate-400 text-sm">vite / vite dev / vite serve</code>
          </div>
          <p class="text-sm text-slate-400">é»˜è®¤å¼€å‘æ¨¡å¼ï¼Œè¿è¡Œ dev server æ—¶ä½¿ç”¨</p>
        </div>

        <div class="bg-slate-900 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="env-badge env-prod">production</span>
            <code class="text-slate-400 text-sm">vite build</code>
          </div>
          <p class="text-sm text-slate-400">é»˜è®¤ç”Ÿäº§æ¨¡å¼ï¼Œæ‰“åŒ…æ„å»ºæ—¶ä½¿ç”¨</p>
        </div>

        <div class="bg-slate-900 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="env-badge env-staging">è‡ªå®šä¹‰æ¨¡å¼</span>
            <code class="text-slate-400 text-sm">vite build --mode staging</code>
          </div>
          <p class="text-sm text-slate-400">é€šè¿‡ --mode å‚æ•°æŒ‡å®šä»»æ„æ¨¡å¼åç§°</p>
        </div>
      </div>
    </div>

    <!-- Important Note -->
    <div class="bg-amber-500/20 border border-amber-500/50 rounded-xl p-6">
      <h3 class="text-lg font-semibold mb-3 text-amber-300">é‡è¦ï¼šå˜é‡å‘½åè§„åˆ™</h3>
      <div class="code-block mb-4">
        <span class="text-green-400"># ä¼šæš´éœ²ç»™å®¢æˆ·ç«¯ (å¿…é¡»ä»¥ VITE_ å¼€å¤´)</span><br>
        <span class="text-cyan-400">VITE_API_URL</span>=https://api.example.com<br>
        <span class="text-cyan-400">VITE_APP_TITLE</span>=My App<br><br>
        <span class="text-red-400"># ä¸ä¼šæš´éœ²ç»™å®¢æˆ·ç«¯ (æ²¡æœ‰ VITE_ å‰ç¼€)</span><br>
        <span class="text-slate-400">DB_PASSWORD</span>=secret123<br>
        <span class="text-slate-400">API_SECRET</span>=xxx
      </div>
      <p class="text-sm text-slate-300">
        åªæœ‰ä»¥ <code class="bg-slate-700 px-2 py-0.5 rounded">VITE_</code> å¼€å¤´çš„å˜é‡æ‰ä¼šè¢«æ‰“åŒ…åˆ°å‰ç«¯ä»£ç ä¸­ï¼Œ
        è¿™æ˜¯<strong class="text-amber-300">å®‰å…¨è®¾è®¡</strong>ï¼Œé˜²æ­¢æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€‚
      </p>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">â†</span>
        <span>ä¸Šä¸€æ­¥</span>
      </button>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-500 rounded-lg font-semibold transition-all group">
        <span>ä¸‹ä¸€æ­¥ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">â†’</span>
      </button>
    </div>
  </div>

  <!-- Step 2: Using Environment Variables -->
  <div id="step-2" class="tab-content max-w-4xl mx-auto">
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h2 class="text-xl font-semibold mb-4 text-purple-400">åœ¨ä»£ç ä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡</h2>

      <!-- Client Side -->
      <div class="mb-6">
        <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
          <span class="w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-sm">1</span>
          åœ¨å‰ç«¯ä»£ç ä¸­ä½¿ç”¨
        </h3>
        <div class="file-tab active">.env.development</div>
        <div class="code-block rounded-t-none">
          <span class="text-cyan-400">VITE_API_URL</span>=http://localhost:3000/api<br>
          <span class="text-cyan-400">VITE_APP_TITLE</span>=My App (Dev)
        </div>
      </div>

      <div class="mb-6">
        <div class="file-tab active">src/api/config.ts</div>
        <div class="code-block rounded-t-none">
          <span class="text-slate-400">// é€šè¿‡ import.meta.env è®¿é—®ç¯å¢ƒå˜é‡</span><br>
          <span class="text-purple-400">const</span> <span class="text-cyan-400">apiUrl</span> = <span class="text-amber-300">import.meta.env.VITE_API_URL</span><br>
          <span class="text-purple-400">const</span> <span class="text-cyan-400">appTitle</span> = <span class="text-amber-300">import.meta.env.VITE_APP_TITLE</span><br><br>
          <span class="text-slate-400">// å†…ç½®å˜é‡</span><br>
          <span class="text-purple-400">const</span> <span class="text-cyan-400">mode</span> = <span class="text-amber-300">import.meta.env.MODE</span>      <span class="text-slate-500">// 'development' | 'production' | è‡ªå®šä¹‰</span><br>
          <span class="text-purple-400">const</span> <span class="text-cyan-400">isDev</span> = <span class="text-amber-300">import.meta.env.DEV</span>       <span class="text-slate-500">// boolean</span><br>
          <span class="text-purple-400">const</span> <span class="text-cyan-400">isProd</span> = <span class="text-amber-300">import.meta.env.PROD</span>      <span class="text-slate-500">// boolean</span><br>
          <span class="text-purple-400">const</span> <span class="text-cyan-400">baseUrl</span> = <span class="text-amber-300">import.meta.env.BASE_URL</span>  <span class="text-slate-500">// éƒ¨ç½²åŸºç¡€è·¯å¾„</span>
        </div>
      </div>

      <!-- TypeScript Support -->
      <div class="mb-6">
        <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
          <span class="w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-sm">2</span>
          TypeScript ç±»å‹æ”¯æŒ
        </h3>
        <div class="file-tab active">src/vite-env.d.ts</div>
        <div class="code-block rounded-t-none">
          <span class="text-slate-400">/// &lt;reference types="vite/client" /&gt;</span><br><br>
          <span class="text-purple-400">interface</span> <span class="text-green-400">ImportMetaEnv</span> {<br>
          <span class="text-slate-300">  </span><span class="text-purple-400">readonly</span> <span class="text-cyan-400">VITE_API_URL</span>: <span class="text-green-400">string</span><br>
          <span class="text-slate-300">  </span><span class="text-purple-400">readonly</span> <span class="text-cyan-400">VITE_APP_TITLE</span>: <span class="text-green-400">string</span><br>
          <span class="text-slate-300">  </span><span class="text-slate-400">// æ·»åŠ æ›´å¤šç¯å¢ƒå˜é‡ç±»å‹...</span><br>
          }<br><br>
          <span class="text-purple-400">interface</span> <span class="text-green-400">ImportMeta</span> {<br>
          <span class="text-slate-300">  </span><span class="text-purple-400">readonly</span> <span class="text-cyan-400">env</span>: <span class="text-green-400">ImportMetaEnv</span><br>
          }
        </div>
      </div>
    </div>

    <!-- Vite Config -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
        <span class="w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-sm">3</span>
        åœ¨ vite.config.ts ä¸­ä½¿ç”¨
      </h3>

      <div class="file-tab active">vite.config.ts</div>
      <div class="code-block rounded-t-none">
        <span class="text-purple-400">import</span> { defineConfig, <span class="text-cyan-400">loadEnv</span> } <span class="text-purple-400">from</span> <span class="text-green-400">'vite'</span><br><br>
        <span class="text-purple-400">export default</span> defineConfig(({ <span class="text-cyan-400">mode</span> }) => {<br>
        <span class="text-slate-300">  </span><span class="text-slate-400">// åŠ è½½ç¯å¢ƒå˜é‡</span><br>
        <span class="text-slate-300">  </span><span class="text-purple-400">const</span> <span class="text-cyan-400">env</span> = <span class="text-amber-300">loadEnv</span>(mode, process.cwd(), <span class="text-green-400">''</span>)<br><br>
        <span class="text-slate-300">  </span><span class="text-purple-400">return</span> {<br>
        <span class="text-slate-300">    </span><span class="text-cyan-400">server</span>: {<br>
        <span class="text-slate-300">      </span><span class="text-cyan-400">proxy</span>: {<br>
        <span class="text-slate-300">        </span><span class="text-green-400">'/api'</span>: {<br>
        <span class="text-slate-300">          </span><span class="text-cyan-400">target</span>: env.<span class="text-amber-300">VITE_API_URL</span>,<br>
        <span class="text-slate-300">          </span><span class="text-cyan-400">changeOrigin</span>: <span class="text-purple-400">true</span><br>
        <span class="text-slate-300">        </span>}<br>
        <span class="text-slate-300">      </span>}<br>
        <span class="text-slate-300">    </span>}<br>
        <span class="text-slate-300">  </span>}<br>
        })
      </div>

      <div class="bg-cyan-500/20 border border-cyan-500/50 rounded-lg p-4 mt-4">
        <p class="text-sm text-cyan-300">
          <strong>æ³¨æ„ï¼š</strong><code class="bg-slate-700 px-1 rounded">loadEnv</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å‰ç¼€è¿‡æ»¤ï¼Œ
          ä¼ ç©ºå­—ç¬¦ä¸² <code class="bg-slate-700 px-1 rounded">''</code> å¯ä»¥åŠ è½½æ‰€æœ‰å˜é‡ï¼Œä¸ä»…é™äº VITE_ å¼€å¤´çš„ã€‚
        </p>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">â†</span>
        <span>ä¸Šä¸€æ­¥</span>
      </button>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-500 rounded-lg font-semibold transition-all group">
        <span>ä¸‹ä¸€æ­¥ï¼šå¤šç¯å¢ƒå®æˆ˜</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">â†’</span>
      </button>
    </div>
  </div>

  <!-- Step 3: Multi-Environment Practice -->
  <div id="step-3" class="tab-content max-w-4xl mx-auto">
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h2 class="text-xl font-semibold mb-4 text-purple-400">å¤šç¯å¢ƒé…ç½®å®æˆ˜</h2>

      <p class="text-slate-300 mb-6">
        å‡è®¾æˆ‘ä»¬æœ‰ä¸‰ä¸ªç¯å¢ƒï¼š<span class="env-badge env-dev">å¼€å‘</span>
        <span class="env-badge env-staging">é¢„å‘å¸ƒ</span>
        <span class="env-badge env-prod">ç”Ÿäº§</span>
      </p>

      <!-- .env files -->
      <div class="grid md:grid-cols-3 gap-4 mb-6">
        <div>
          <div class="file-tab active">.env.development</div>
          <div class="code-block rounded-t-none text-xs">
            <span class="text-cyan-400">VITE_API_URL</span>=http://localhost:3000<br>
            <span class="text-cyan-400">VITE_ENV</span>=development<br>
            <span class="text-cyan-400">VITE_DEBUG</span>=true
          </div>
        </div>
        <div>
          <div class="file-tab active">.env.staging</div>
          <div class="code-block rounded-t-none text-xs">
            <span class="text-cyan-400">VITE_API_URL</span>=https://staging-api.com<br>
            <span class="text-cyan-400">VITE_ENV</span>=staging<br>
            <span class="text-cyan-400">VITE_DEBUG</span>=true
          </div>
        </div>
        <div>
          <div class="file-tab active">.env.production</div>
          <div class="code-block rounded-t-none text-xs">
            <span class="text-cyan-400">VITE_API_URL</span>=https://api.example.com<br>
            <span class="text-cyan-400">VITE_ENV</span>=production<br>
            <span class="text-cyan-400">VITE_DEBUG</span>=false
          </div>
        </div>
      </div>

      <!-- Package.json scripts -->
      <div class="mb-6">
        <h3 class="text-lg font-semibold mb-3">é…ç½® npm scripts</h3>
        <div class="file-tab active">package.json</div>
        <div class="code-block rounded-t-none">
          {<br>
          <span class="text-slate-300">  </span><span class="text-cyan-400">"scripts"</span>: {<br>
          <span class="text-slate-300">    </span><span class="text-green-400">"dev"</span>: <span class="text-amber-300">"vite"</span>,<br>
          <span class="text-slate-300">    </span><span class="text-green-400">"build"</span>: <span class="text-amber-300">"vite build"</span>,<br>
          <span class="text-slate-300">    </span><span class="text-green-400">"build:staging"</span>: <span class="text-amber-300">"vite build --mode staging"</span>,<br>
          <span class="text-slate-300">    </span><span class="text-green-400">"build:prod"</span>: <span class="text-amber-300">"vite build --mode production"</span>,<br>
          <span class="text-slate-300">    </span><span class="text-green-400">"preview:staging"</span>: <span class="text-amber-300">"vite preview --mode staging"</span><br>
          <span class="text-slate-300">  </span>}<br>
          }
        </div>
      </div>
    </div>

    <!-- Practical Usage -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h3 class="text-lg font-semibold mb-4">å®é™…ä½¿ç”¨ç¤ºä¾‹</h3>

      <div class="file-tab active">src/config/index.ts</div>
      <div class="code-block rounded-t-none mb-4">
        <span class="text-slate-400">// ç»Ÿä¸€é…ç½®ç®¡ç†</span><br>
        <span class="text-purple-400">export const</span> <span class="text-cyan-400">config</span> = {<br>
        <span class="text-slate-300">  </span><span class="text-cyan-400">apiUrl</span>: import.meta.env.<span class="text-amber-300">VITE_API_URL</span>,<br>
        <span class="text-slate-300">  </span><span class="text-cyan-400">env</span>: import.meta.env.<span class="text-amber-300">VITE_ENV</span>,<br>
        <span class="text-slate-300">  </span><span class="text-cyan-400">debug</span>: import.meta.env.<span class="text-amber-300">VITE_DEBUG</span> === <span class="text-green-400">'true'</span>,<br>
        <span class="text-slate-300">  </span><span class="text-cyan-400">isDev</span>: import.meta.env.<span class="text-amber-300">DEV</span>,<br>
        <span class="text-slate-300">  </span><span class="text-cyan-400">isProd</span>: import.meta.env.<span class="text-amber-300">PROD</span>,<br>
        } <span class="text-purple-400">as const</span>
      </div>

      <div class="file-tab active">src/utils/logger.ts</div>
      <div class="code-block rounded-t-none">
        <span class="text-purple-400">import</span> { config } <span class="text-purple-400">from</span> <span class="text-green-400">'@/config'</span><br><br>
        <span class="text-purple-400">export const</span> <span class="text-cyan-400">logger</span> = {<br>
        <span class="text-slate-300">  </span><span class="text-cyan-400">log</span>(...args: <span class="text-green-400">any</span>[]) {<br>
        <span class="text-slate-300">    </span><span class="text-purple-400">if</span> (config.<span class="text-amber-300">debug</span>) {<br>
        <span class="text-slate-300">      </span>console.log(<span class="text-green-400">`[${config.env}]`</span>, ...args)<br>
        <span class="text-slate-300">    </span>}<br>
        <span class="text-slate-300">  </span>},<br>
        <span class="text-slate-300">  </span><span class="text-cyan-400">error</span>(...args: <span class="text-green-400">any</span>[]) {<br>
        <span class="text-slate-300">    </span>console.error(<span class="text-green-400">`[${config.env}]`</span>, ...args)<br>
        <span class="text-slate-300">  </span>}<br>
        }
      </div>
    </div>

    <!-- CI/CD Integration -->
    <div class="bg-gradient-to-r from-purple-500/20 to-green-500/20 border border-purple-500/30 rounded-xl p-6">
      <h3 class="text-lg font-semibold mb-4">CI/CD é›†æˆç¤ºä¾‹</h3>

      <div class="file-tab active">.github/workflows/deploy.yml</div>
      <div class="code-block rounded-t-none text-xs">
        <span class="text-cyan-400">jobs</span>:<br>
        <span class="text-slate-300">  </span><span class="text-cyan-400">deploy-staging</span>:<br>
        <span class="text-slate-300">    </span><span class="text-cyan-400">steps</span>:<br>
        <span class="text-slate-300">      </span>- <span class="text-cyan-400">run</span>: npm run build:staging<br>
        <span class="text-slate-300">      </span>- <span class="text-cyan-400">run</span>: <span class="text-slate-400"># deploy to staging server</span><br><br>
        <span class="text-slate-300">  </span><span class="text-cyan-400">deploy-production</span>:<br>
        <span class="text-slate-300">    </span><span class="text-cyan-400">steps</span>:<br>
        <span class="text-slate-300">      </span>- <span class="text-cyan-400">run</span>: npm run build:prod<br>
        <span class="text-slate-300">      </span>- <span class="text-cyan-400">run</span>: <span class="text-slate-400"># deploy to production server</span>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">â†</span>
        <span>ä¸Šä¸€æ­¥</span>
      </button>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-500 rounded-lg font-semibold transition-all group">
        <span>ä¸‹ä¸€æ­¥ï¼šæœ€ä½³å®è·µ</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">â†’</span>
      </button>
    </div>
  </div>

  <!-- Step 4: Best Practices -->
  <div id="step-4" class="tab-content max-w-4xl mx-auto">
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h2 class="text-xl font-semibold mb-4 text-purple-400">æœ€ä½³å®è·µ</h2>

      <div class="space-y-4">
        <!-- Practice 1 -->
        <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-4">
          <div class="flex items-start gap-3">
            <span class="text-green-400 text-2xl">1</span>
            <div>
              <div class="font-semibold text-green-300">ä½¿ç”¨ .env.example ä½œä¸ºæ¨¡æ¿</div>
              <p class="text-sm text-slate-400 mt-1">
                æäº¤ä¸€ä¸ª .env.example æ–‡ä»¶åˆ°ä»“åº“ï¼Œåˆ—å‡ºæ‰€æœ‰éœ€è¦çš„ç¯å¢ƒå˜é‡ï¼ˆä¸å«çœŸå®å€¼ï¼‰ï¼Œæ–¹ä¾¿å›¢é˜Ÿæˆå‘˜å¿«é€Ÿé…ç½®ã€‚
              </p>
              <div class="code-block mt-3 text-xs">
                <span class="text-slate-400"># .env.example - å¤åˆ¶æ­¤æ–‡ä»¶ä¸º .env.local å¹¶å¡«å…¥çœŸå®å€¼</span><br>
                VITE_API_URL=<br>
                VITE_APP_TITLE=<br>
                VITE_DEBUG=
              </div>
            </div>
          </div>
        </div>

        <!-- Practice 2 -->
        <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-4">
          <div class="flex items-start gap-3">
            <span class="text-green-400 text-2xl">2</span>
            <div>
              <div class="font-semibold text-green-300">æ­£ç¡®é…ç½® .gitignore</div>
              <p class="text-sm text-slate-400 mt-1">
                ç¡®ä¿æ•æ„Ÿé…ç½®ä¸ä¼šè¢«æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ã€‚
              </p>
              <div class="code-block mt-3 text-xs">
                <span class="text-slate-400"># .gitignore</span><br>
                .env.local<br>
                .env.*.local<br>
                <span class="text-slate-400"># æ³¨æ„ï¼š.env.development ç­‰å¯ä»¥æäº¤ï¼ˆä¸å«æ•æ„Ÿä¿¡æ¯ï¼‰</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Practice 3 -->
        <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-4">
          <div class="flex items-start gap-3">
            <span class="text-green-400 text-2xl">3</span>
            <div>
              <div class="font-semibold text-green-300">è®¾ç½®é»˜è®¤å€¼é˜²æ­¢å´©æºƒ</div>
              <p class="text-sm text-slate-400 mt-1">
                ç¯å¢ƒå˜é‡å¯èƒ½æœªå®šä¹‰ï¼Œå§‹ç»ˆæä¾›åˆç†çš„é»˜è®¤å€¼ã€‚
              </p>
              <div class="code-block mt-3 text-xs">
                <span class="text-purple-400">const</span> apiUrl = import.meta.env.VITE_API_URL <span class="text-purple-400">||</span> <span class="text-green-400">'/api'</span><br>
                <span class="text-purple-400">const</span> timeout = Number(import.meta.env.VITE_TIMEOUT) <span class="text-purple-400">||</span> <span class="text-amber-300">5000</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Practice 4 -->
        <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-4">
          <div class="flex items-start gap-3">
            <span class="text-green-400 text-2xl">4</span>
            <div>
              <div class="font-semibold text-green-300">éªŒè¯å¿…éœ€çš„ç¯å¢ƒå˜é‡</div>
              <p class="text-sm text-slate-400 mt-1">
                åœ¨åº”ç”¨å¯åŠ¨æ—¶éªŒè¯å…³é”®ç¯å¢ƒå˜é‡æ˜¯å¦å­˜åœ¨ã€‚
              </p>
              <div class="code-block mt-3 text-xs">
                <span class="text-slate-400">// src/config/validate.ts</span><br>
                <span class="text-purple-400">const</span> required = [<span class="text-green-400">'VITE_API_URL'</span>, <span class="text-green-400">'VITE_APP_TITLE'</span>]<br><br>
                required.forEach(key => {<br>
                <span class="text-slate-300">  </span><span class="text-purple-400">if</span> (!import.meta.env[key]) {<br>
                <span class="text-slate-300">    </span><span class="text-purple-400">throw new</span> Error(<span class="text-green-400">`Missing env: ${key}`</span>)<br>
                <span class="text-slate-300">  </span>}<br>
                })
              </div>
            </div>
          </div>
        </div>

        <!-- Practice 5 -->
        <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-4">
          <div class="flex items-start gap-3">
            <span class="text-green-400 text-2xl">5</span>
            <div>
              <div class="font-semibold text-green-300">ä½¿ç”¨ç»Ÿä¸€çš„é…ç½®å…¥å£</div>
              <p class="text-sm text-slate-400 mt-1">
                åˆ›å»ºä¸€ä¸ªé…ç½®æ¨¡å—ï¼Œç»Ÿä¸€ç®¡ç†æ‰€æœ‰ç¯å¢ƒå˜é‡ï¼Œé¿å…åœ¨ä»£ç ä¸­åˆ°å¤„ä½¿ç”¨ import.meta.envã€‚
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Summary -->
    <div class="bg-gradient-to-r from-purple-500/20 to-green-500/20 border border-purple-500/30 rounded-xl p-6 mb-6">
      <h3 class="text-lg font-semibold mb-4 text-center">æ€»ç»“</h3>

      <div class="grid md:grid-cols-4 gap-4 text-center">
        <div>
          <div class="text-3xl mb-2">ğŸ“</div>
          <div class="font-semibold text-purple-300">.env æ–‡ä»¶</div>
          <p class="text-xs text-slate-400 mt-1">æŒ‰ç¯å¢ƒå‘½å<br/>è‡ªåŠ¨åŠ è½½</p>
        </div>
        <div>
          <div class="text-3xl mb-2">ğŸ”’</div>
          <div class="font-semibold text-green-300">VITE_ å‰ç¼€</div>
          <p class="text-xs text-slate-400 mt-1">å®‰å…¨æš´éœ²<br/>é˜²æ­¢æ³„éœ²</p>
        </div>
        <div>
          <div class="text-3xl mb-2">âš™ï¸</div>
          <div class="font-semibold text-amber-300">--mode å‚æ•°</div>
          <p class="text-xs text-slate-400 mt-1">è‡ªå®šä¹‰æ¨¡å¼<br/>çµæ´»åˆ‡æ¢</p>
        </div>
        <div>
          <div class="text-3xl mb-2">ğŸ¯</div>
          <div class="font-semibold text-cyan-300">import.meta.env</div>
          <p class="text-xs text-slate-400 mt-1">ä»£ç ä¸­è®¿é—®<br/>ç±»å‹å®‰å…¨</p>
        </div>
      </div>
    </div>

    <!-- Quick Reference -->
    <div class="bg-slate-800 rounded-xl p-6">
      <h3 class="text-lg font-semibold mb-4">å¿«é€Ÿå‚è€ƒ</h3>

      <div class="overflow-x-auto">
        <table class="w-full text-sm">
          <thead>
            <tr class="text-left border-b border-slate-700">
              <th class="pb-3 text-slate-400">å‘½ä»¤</th>
              <th class="pb-3 text-slate-400">æ¨¡å¼</th>
              <th class="pb-3 text-slate-400">åŠ è½½çš„ .env æ–‡ä»¶</th>
            </tr>
          </thead>
          <tbody class="text-slate-300">
            <tr class="border-b border-slate-700/50">
              <td class="py-3"><code class="bg-slate-700 px-2 py-0.5 rounded text-xs">vite dev</code></td>
              <td>development</td>
              <td>.env, .env.development</td>
            </tr>
            <tr class="border-b border-slate-700/50">
              <td class="py-3"><code class="bg-slate-700 px-2 py-0.5 rounded text-xs">vite build</code></td>
              <td>production</td>
              <td>.env, .env.production</td>
            </tr>
            <tr class="border-b border-slate-700/50">
              <td class="py-3"><code class="bg-slate-700 px-2 py-0.5 rounded text-xs">vite build --mode staging</code></td>
              <td>staging</td>
              <td>.env, .env.staging</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">â†</span>
        <span>ä¸Šä¸€æ­¥</span>
      </button>
      <div class="flex items-center gap-2 px-6 py-3 bg-green-600 rounded-lg font-semibold">
        <span>ğŸ‰</span>
        <span>å­¦ä¹ å®Œæˆï¼</span>
      </div>
    </div>
  </div>
  </div>
  <!-- End capture div -->

  <!-- Page Navigation -->
  <div class="max-w-4xl mx-auto mt-12 pt-8 border-t border-slate-700">
    <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
      <a href="lsp-claude-code.html" class="flex items-center gap-2 px-5 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">â†</span>
        <span>ä¸Šä¸€ç¯‡ï¼šLSP ä¸ Claude Code</span>
      </a>
      <a href="index.html" class="flex items-center gap-2 px-5 py-3 bg-purple-600 hover:bg-purple-500 rounded-lg transition-all">
        <span>ğŸ </span>
        <span>è¿”å›é¦–é¡µ</span>
      </a>
    </div>
  </div>

  <!-- Footer -->
  <div class="text-center mt-12 text-slate-500 text-sm">
    ç”¨å¿ƒåˆ¶ä½œï¼Œè®©æŠ€æœ¯çŸ¥è¯†æ›´æ˜“æ‡‚
  </div>

  <script>
    const steps = ['step-0', 'step-1', 'step-2', 'step-3', 'step-4'];
    const stepNames = ['ä¸ºä»€ä¹ˆéœ€è¦', '.envæ–‡ä»¶è§„åˆ™', 'ä½¿ç”¨ç¯å¢ƒå˜é‡', 'å¤šç¯å¢ƒå®æˆ˜', 'æœ€ä½³å®è·µ'];
    let currentStep = 0;

    function updateUI() {
      // Hide all tabs, show current
      steps.forEach((step, index) => {
        const el = document.getElementById(step);
        el.classList.toggle('active', index === currentStep);
      });

      // Update step dots
      document.querySelectorAll('.step-dot').forEach((dot, index) => {
        dot.classList.remove('active', 'completed');
        if (index === currentStep) {
          dot.classList.add('active');
        } else if (index < currentStep) {
          dot.classList.add('completed');
        }
      });

      // Update step labels
      document.querySelectorAll('.step-label').forEach((label, index) => {
        label.classList.remove('text-purple-400', 'bg-purple-500/20');
        label.classList.add('text-slate-400');
        if (index === currentStep) {
          label.classList.remove('text-slate-400');
          label.classList.add('text-purple-400', 'bg-purple-500/20');
        }
      });
    }

    function nextStep() {
      if (currentStep < steps.length - 1) {
        currentStep++;
        updateUI();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    function prevStep() {
      if (currentStep > 0) {
        currentStep--;
        updateUI();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    function goToStep(step) {
      currentStep = step;
      updateUI();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Click on step dots
    document.querySelectorAll('.step-dot').forEach(dot => {
      dot.addEventListener('click', () => {
        goToStep(parseInt(dot.dataset.step));
      });
    });
  </script>
</body>
</html>
