<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI 对话的三种角色 - 通俗易懂版</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    .step-dot { transition: all 0.3s ease; }
    .step-dot.active { background-color: #2563eb; transform: scale(1.2); }
    .step-dot.completed { background-color: #22c55e; }

    .message-box {
      border-left: 4px solid;
      padding: 1rem;
      margin: 0.5rem 0;
    }

    .system-msg { border-color: #a855f7; background: rgba(168, 85, 247, 0.1); }
    .user-msg { border-color: #3b82f6; background: rgba(59, 130, 246, 0.1); }
    .assistant-msg { border-color: #22c55e; background: rgba(34, 197, 94, 0.1); }

    .chat-bubble {
      max-width: 85%;
      padding: 12px 16px;
      border-radius: 18px;
      margin: 8px 0;
    }

    .chat-user {
      background: #3b82f6;
      margin-left: auto;
      border-bottom-right-radius: 4px;
    }

    .chat-ai {
      background: #374151;
      margin-right: auto;
      border-bottom-left-radius: 4px;
    }

    .analogy-card {
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.1));
      border: 1px solid rgba(139, 92, 246, 0.3);
    }
  </style>
</head>
<body class="min-h-screen bg-slate-900 text-white p-8">
  <div id="capture">
  <h1 class="text-3xl font-bold text-center mb-2">AI 对话的三种角色</h1>
  <p class="text-slate-400 text-center mb-8">一看就懂的 Prompt 入门指南</p>

  <!-- Step Indicator -->
  <div class="flex justify-center items-center gap-3 mb-8">
    <button class="step-dot active w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="0">1</button>
    <div class="w-6 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="1">2</button>
    <div class="w-6 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="2">3</button>
    <div class="w-6 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="3">4</button>
    <div class="w-6 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="4">5</button>
  </div>

  <!-- Step Labels -->
  <div class="flex justify-center gap-2 mb-8 flex-wrap">
    <span class="step-label text-blue-400 text-sm px-3 py-1 bg-blue-500/20 rounded-full" data-step="0">一个比喻</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="1">🎬 幕后导演</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="2">🙋 你说的话</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="3">🤖 AI 的回复</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="4">✅ 实用技巧</span>
  </div>

  <!-- Overview Tab -->
  <div id="step-0" class="tab-content active max-w-4xl mx-auto">
    <!-- Theater Analogy -->
    <div class="analogy-card rounded-xl p-6 mb-6">
      <h2 class="text-xl font-semibold mb-4 text-center">把 AI 对话想象成一场戏剧表演</h2>

      <div class="grid md:grid-cols-3 gap-6 mt-6">
        <div class="text-center">
          <div class="text-5xl mb-3">🎬</div>
          <div class="text-purple-300 font-bold text-lg mb-2">导演的指示</div>
          <div class="text-sm text-slate-400">System Prompt</div>
          <p class="text-xs text-slate-500 mt-2">告诉演员该怎么演<br>观众看不到</p>
        </div>
        <div class="text-center">
          <div class="text-5xl mb-3">🙋</div>
          <div class="text-blue-300 font-bold text-lg mb-2">观众的提问</div>
          <div class="text-sm text-slate-400">User Prompt</div>
          <p class="text-xs text-slate-500 mt-2">你想问什么<br>就说什么</p>
        </div>
        <div class="text-center">
          <div class="text-5xl mb-3">🤖</div>
          <div class="text-green-300 font-bold text-lg mb-2">演员的表演</div>
          <div class="text-sm text-slate-400">Assistant</div>
          <p class="text-xs text-slate-500 mt-2">AI 按照"人设"<br>给你回复</p>
        </div>
      </div>
    </div>

    <!-- Simple Explanation -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h2 class="text-xl font-semibold mb-4 text-amber-400">用大白话说就是...</h2>

      <div class="space-y-4">
        <div class="flex items-start gap-4">
          <div class="w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center shrink-0">
            <span class="text-lg">1</span>
          </div>
          <div>
            <p class="text-slate-300">
              <strong class="text-purple-300">System Prompt（系统提示）</strong> =
              给 AI 设定的"人设"和"规矩"
            </p>
            <p class="text-sm text-slate-500 mt-1">
              比如告诉它"你是一个温柔的老师"或"你只能用中文回答"
            </p>
          </div>
        </div>

        <div class="flex items-start gap-4">
          <div class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center shrink-0">
            <span class="text-lg">2</span>
          </div>
          <div>
            <p class="text-slate-300">
              <strong class="text-blue-300">User Prompt（用户输入）</strong> =
              你在对话框里打的字
            </p>
            <p class="text-sm text-slate-500 mt-1">
              就是你问 ChatGPT / Claude 的那些问题和请求
            </p>
          </div>
        </div>

        <div class="flex items-start gap-4">
          <div class="w-10 h-10 rounded-full bg-green-600 flex items-center justify-center shrink-0">
            <span class="text-lg">3</span>
          </div>
          <div>
            <p class="text-slate-300">
              <strong class="text-green-300">Assistant（助手回复）</strong> =
              AI 给你的答复
            </p>
            <p class="text-sm text-slate-500 mt-1">
              AI 会综合考虑"人设"和你的问题，然后给出回答
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Visual Flow -->
    <div class="bg-slate-800 rounded-xl p-6">
      <h3 class="text-lg font-semibold mb-6 text-center">一次对话是这样发生的</h3>

      <div class="space-y-3">
        <!-- System -->
        <div class="message-box system-msg rounded-lg">
          <div class="flex items-center gap-2 mb-2">
            <span class="text-2xl">🎬</span>
            <span class="bg-purple-600 px-2 py-1 rounded text-xs font-bold">导演指示</span>
            <span class="text-purple-300 text-xs">（你看不到这个）</span>
          </div>
          <p class="text-sm text-slate-300 italic">"你是一个友好的美食推荐助手，说话要活泼可爱~"</p>
        </div>

        <div class="text-center text-2xl text-slate-600">↓</div>

        <!-- User -->
        <div class="message-box user-msg rounded-lg">
          <div class="flex items-center gap-2 mb-2">
            <span class="text-2xl">🙋</span>
            <span class="bg-blue-600 px-2 py-1 rounded text-xs font-bold">你说</span>
          </div>
          <p class="text-sm text-slate-300">"我想吃火锅，有什么推荐吗？"</p>
        </div>

        <div class="text-center text-2xl text-slate-600">↓</div>

        <!-- Assistant -->
        <div class="message-box assistant-msg rounded-lg">
          <div class="flex items-center gap-2 mb-2">
            <span class="text-2xl">🤖</span>
            <span class="bg-green-600 px-2 py-1 rounded text-xs font-bold">AI 回复</span>
          </div>
          <p class="text-sm text-slate-300">"哇！火锅爱好者你好呀~ 我超推荐海底捞的番茄锅底..."</p>
        </div>
      </div>

      <div class="mt-6 bg-amber-500/20 border border-amber-500/50 rounded-lg p-4">
        <p class="text-amber-300 text-sm text-center">
          看到了吗？AI 的回复风格（活泼可爱）是由"导演指示"决定的！
        </p>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <div></div>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition-all group">
        <span>下一步：幕后导演</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">→</span>
      </button>
    </div>
  </div>

  <!-- System Prompt Tab -->
  <div id="step-1" class="tab-content max-w-4xl mx-auto">
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <div class="flex items-center gap-3 mb-4">
        <span class="text-3xl">🎬</span>
        <h2 class="text-xl font-semibold text-purple-400">System Prompt = 幕后导演的指示</h2>
      </div>

      <div class="analogy-card rounded-lg p-4 mb-4">
        <p class="text-slate-300">
          想象你请了一个演员来帮你表演。<br>
          在演出开始前，你会私下告诉他：<strong class="text-purple-300">"你要扮演一个热情的销售员"</strong>
        </p>
        <p class="text-sm text-slate-500 mt-2">
          这个指示观众是看不到的，但演员会照着做。这就是 System Prompt！
        </p>
      </div>

      <div class="bg-slate-900 rounded-lg p-4">
        <h4 class="text-purple-300 font-semibold mb-3">System Prompt 可以做什么？</h4>
        <div class="grid md:grid-cols-2 gap-3 text-sm">
          <div class="flex items-center gap-2 bg-slate-800 rounded-lg p-3">
            <span class="text-xl">👤</span>
            <span>设定 AI 的身份（医生、老师、翻译...）</span>
          </div>
          <div class="flex items-center gap-2 bg-slate-800 rounded-lg p-3">
            <span class="text-xl">🎭</span>
            <span>设定说话风格（正式、幽默、温柔...）</span>
          </div>
          <div class="flex items-center gap-2 bg-slate-800 rounded-lg p-3">
            <span class="text-xl">🚫</span>
            <span>设定禁止事项（不讨论某些话题）</span>
          </div>
          <div class="flex items-center gap-2 bg-slate-800 rounded-lg p-3">
            <span class="text-xl">📝</span>
            <span>设定回复格式（列表、简短、详细...）</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Examples -->
    <div class="bg-slate-800 rounded-xl p-6">
      <h3 class="text-lg font-semibold mb-4">生活化的例子</h3>

      <div class="space-y-4">
        <!-- Example 1 -->
        <div class="bg-slate-900 rounded-lg p-4">
          <div class="flex items-center gap-2 mb-3">
            <span class="text-2xl">👨‍🍳</span>
            <span class="text-purple-300 font-semibold">例子1：让 AI 变成厨师</span>
          </div>
          <div class="bg-purple-500/10 border border-purple-500/30 rounded-lg p-3 text-sm text-slate-300">
            你是一个有20年经验的家庭厨师。<br>
            用户问你做菜的问题时：<br>
            - 用简单易懂的话解释<br>
            - 给出具体的用量（几勺、几克）<br>
            - 提醒可能的常见错误<br>
            - 语气要像邻居阿姨一样亲切
          </div>
        </div>

        <!-- Example 2 -->
        <div class="bg-slate-900 rounded-lg p-4">
          <div class="flex items-center gap-2 mb-3">
            <span class="text-2xl">🌍</span>
            <span class="text-purple-300 font-semibold">例子2：让 AI 变成翻译官</span>
          </div>
          <div class="bg-purple-500/10 border border-purple-500/30 rounded-lg p-3 text-sm text-slate-300">
            你是一个中英翻译专家。<br>
            规则很简单：<br>
            - 用户发中文 → 你翻译成英文<br>
            - 用户发英文 → 你翻译成中文<br>
            - 只输出翻译结果，不要解释
          </div>
        </div>
      </div>

      <div class="mt-6 bg-purple-500/20 border border-purple-500/50 rounded-lg p-4">
        <p class="text-purple-300 text-sm">
          <strong>小技巧：</strong>System Prompt 写得越详细，AI 的回答就越符合你的期望！
        </p>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">←</span>
        <span>上一步</span>
      </button>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition-all group">
        <span>下一步：你说的话</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">→</span>
      </button>
    </div>
  </div>

  <!-- User Prompt Tab -->
  <div id="step-2" class="tab-content max-w-4xl mx-auto">
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <div class="flex items-center gap-3 mb-4">
        <span class="text-3xl">🙋</span>
        <h2 class="text-xl font-semibold text-blue-400">User Prompt = 你说的话</h2>
      </div>

      <p class="text-slate-300 mb-4">
        这个最简单！就是你在 ChatGPT、Claude、文心一言等 AI 工具里
        <strong class="text-blue-300">输入框里打的字</strong>。
      </p>

      <div class="bg-slate-900 rounded-lg p-4">
        <p class="text-slate-400 text-sm mb-3">你平时是不是这样问 AI 的？</p>
        <div class="space-y-2">
          <div class="chat-bubble chat-user text-sm">"帮我写一封请假邮件"</div>
          <div class="chat-bubble chat-user text-sm">"Python 怎么读取 Excel 文件？"</div>
          <div class="chat-bubble chat-user text-sm">"给我推荐几部好看的电影"</div>
          <div class="chat-bubble chat-user text-sm">"这段话帮我翻译成英文"</div>
        </div>
        <p class="text-center text-blue-300 text-sm mt-4">
          ☝️ 这些都是 User Prompt！
        </p>
      </div>
    </div>

    <!-- How to Ask Better -->
    <div class="bg-slate-800 rounded-xl p-6">
      <h3 class="text-lg font-semibold mb-4">怎样问问题，AI 回答得更好？</h3>

      <div class="space-y-4">
        <!-- Bad vs Good -->
        <div class="grid md:grid-cols-2 gap-4">
          <div class="bg-red-500/10 border border-red-500/30 rounded-lg p-4">
            <div class="text-red-400 font-semibold mb-2">❌ 模糊的问法</div>
            <div class="chat-bubble chat-user text-sm">"写个文案"</div>
            <p class="text-xs text-slate-500 mt-2">AI：？？？ 什么文案？给谁看的？</p>
          </div>
          <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-4">
            <div class="text-green-400 font-semibold mb-2">✅ 清晰的问法</div>
            <div class="chat-bubble chat-user text-sm">"帮我写一个奶茶店开业的朋友圈文案，要活泼可爱，100字左右"</div>
            <p class="text-xs text-slate-500 mt-2">AI 立刻就知道该怎么写了！</p>
          </div>
        </div>
      </div>

      <!-- Tips -->
      <div class="mt-6 bg-blue-500/20 border border-blue-500/50 rounded-lg p-4">
        <h4 class="text-blue-300 font-semibold mb-2">提问小技巧</h4>
        <ul class="text-sm text-slate-300 space-y-1">
          <li>• <strong>说清楚背景</strong> - "我是一个刚学编程的大学生..."</li>
          <li>• <strong>说清楚目的</strong> - "我想用来发朋友圈 / 交作业 / 给客户看"</li>
          <li>• <strong>说清楚要求</strong> - "字数500左右 / 要正式一点 / 要有例子"</li>
          <li>• <strong>给个例子</strong> - "类似这种风格：[例子]"</li>
        </ul>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">←</span>
        <span>上一步</span>
      </button>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition-all group">
        <span>下一步：AI 的回复</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">→</span>
      </button>
    </div>
  </div>

  <!-- Assistant Prompt Tab -->
  <div id="step-3" class="tab-content max-w-4xl mx-auto">
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <div class="flex items-center gap-3 mb-4">
        <span class="text-3xl">🤖</span>
        <h2 class="text-xl font-semibold text-green-400">Assistant = AI 的回复</h2>
      </div>

      <p class="text-slate-300 mb-4">
        这个更简单了！就是 <strong class="text-green-300">AI 说的话</strong>。
      </p>

      <div class="bg-slate-900 rounded-lg p-4">
        <div class="space-y-2">
          <div class="chat-bubble chat-user text-sm">"今天天气怎么样？"</div>
          <div class="chat-bubble chat-ai text-sm">
            "抱歉，我无法获取实时天气信息。但你可以查看手机自带的天气应用，或者告诉我你在哪个城市，我可以告诉你这个季节通常的天气情况~"
          </div>
        </div>
        <p class="text-center text-green-300 text-sm mt-4">
          ☝️ 灰色气泡就是 Assistant（AI 的回复）
        </p>
      </div>
    </div>

    <!-- Advanced: Teaching by Example -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h3 class="text-lg font-semibold mb-4">进阶技巧：用例子教 AI</h3>
      <p class="text-slate-400 text-sm mb-4">
        有时候，与其用文字描述你想要什么，不如直接给 AI 看几个例子。这叫做 <strong class="text-amber-300">"Few-shot Learning"</strong>（少样本学习）。
      </p>

      <!-- Example Conversation -->
      <div class="bg-slate-900 rounded-lg p-4">
        <p class="text-slate-400 text-xs mb-3">用对话的方式"教" AI：</p>
        <div class="space-y-2 text-sm">
          <div class="chat-bubble chat-user">"今天心情很好！" → 判断情绪</div>
          <div class="chat-bubble chat-ai">积极</div>
          <div class="chat-bubble chat-user">"快递又丢了，烦死了" → 判断情绪</div>
          <div class="chat-bubble chat-ai">消极</div>
          <div class="chat-bubble chat-user">"明天要开会" → 判断情绪</div>
          <div class="chat-bubble chat-ai text-amber-300">???（AI 会学着回答：中立）</div>
        </div>
        <p class="text-xs text-slate-500 mt-3">
          通过前面的例子，AI 学会了你想要的回答格式！
        </p>
      </div>
    </div>

    <!-- When You See It -->
    <div class="bg-slate-800 rounded-xl p-6">
      <h3 class="text-lg font-semibold mb-4">日常使用中，你需要关心 Assistant 吗？</h3>

      <div class="grid md:grid-cols-2 gap-4">
        <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-4">
          <div class="text-green-400 font-semibold mb-2">普通用户</div>
          <p class="text-sm text-slate-300">
            不用管！你只要问问题，看 AI 的回答就行了。Assistant 就是 AI 说的话，很自然~
          </p>
        </div>
        <div class="bg-amber-500/10 border border-amber-500/30 rounded-lg p-4">
          <div class="text-amber-400 font-semibold mb-2">开发者 / 高级用户</div>
          <p class="text-sm text-slate-300">
            可以利用 Assistant 消息来"预设"对话历史，教 AI 按特定方式回答。
          </p>
        </div>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">←</span>
        <span>上一步</span>
      </button>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition-all group">
        <span>下一步：实用技巧</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">→</span>
      </button>
    </div>
  </div>

  <!-- Best Practices Tab -->
  <div id="step-4" class="tab-content max-w-4xl mx-auto">
    <div class="grid gap-6">
      <!-- Simple Comparison -->
      <div class="bg-slate-800 rounded-xl p-6">
        <h3 class="text-lg font-semibold mb-4 text-center">三种角色，一张图看懂</h3>

        <div class="overflow-x-auto">
          <table class="w-full text-sm">
            <thead>
              <tr class="border-b border-slate-700">
                <th class="text-left p-3 text-slate-400"></th>
                <th class="p-3">
                  <div class="flex flex-col items-center">
                    <span class="text-2xl mb-1">🎬</span>
                    <span class="text-purple-400">System</span>
                  </div>
                </th>
                <th class="p-3">
                  <div class="flex flex-col items-center">
                    <span class="text-2xl mb-1">🙋</span>
                    <span class="text-blue-400">User</span>
                  </div>
                </th>
                <th class="p-3">
                  <div class="flex flex-col items-center">
                    <span class="text-2xl mb-1">🤖</span>
                    <span class="text-green-400">Assistant</span>
                  </div>
                </th>
              </tr>
            </thead>
            <tbody class="text-slate-300">
              <tr class="border-b border-slate-700/50">
                <td class="p-3 font-medium">通俗说法</td>
                <td class="p-3 text-center">AI 的人设</td>
                <td class="p-3 text-center">你的问题</td>
                <td class="p-3 text-center">AI 的回答</td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="p-3 font-medium">你能看到吗？</td>
                <td class="p-3 text-center">通常看不到</td>
                <td class="p-3 text-center">能看到</td>
                <td class="p-3 text-center">能看到</td>
              </tr>
              <tr class="border-b border-slate-700/50">
                <td class="p-3 font-medium">谁来写？</td>
                <td class="p-3 text-center">产品开发者</td>
                <td class="p-3 text-center">你自己</td>
                <td class="p-3 text-center">AI 自动生成</td>
              </tr>
              <tr>
                <td class="p-3 font-medium">生活比喻</td>
                <td class="p-3 text-center">导演的指示</td>
                <td class="p-3 text-center">观众的问题</td>
                <td class="p-3 text-center">演员的表演</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Practical Tips -->
      <div class="bg-slate-800 rounded-xl p-6">
        <h3 class="text-lg font-semibold mb-4">日常使用 AI 的小技巧</h3>

        <div class="space-y-4">
          <div class="flex gap-4 items-start">
            <span class="bg-amber-600 w-8 h-8 rounded-full flex items-center justify-center font-bold shrink-0">1</span>
            <div>
              <h4 class="font-semibold text-amber-300">先说清楚你是谁</h4>
              <p class="text-sm text-slate-400 mt-1">
                "我是一个不懂代码的产品经理..."<br>
                "我是高中生，在准备英语考试..."
              </p>
            </div>
          </div>

          <div class="flex gap-4 items-start">
            <span class="bg-amber-600 w-8 h-8 rounded-full flex items-center justify-center font-bold shrink-0">2</span>
            <div>
              <h4 class="font-semibold text-amber-300">告诉 AI 你想要什么样的回答</h4>
              <p class="text-sm text-slate-400 mt-1">
                "用简单的话解释，不要用专业术语"<br>
                "给我列一个表格对比"
              </p>
            </div>
          </div>

          <div class="flex gap-4 items-start">
            <span class="bg-amber-600 w-8 h-8 rounded-full flex items-center justify-center font-bold shrink-0">3</span>
            <div>
              <h4 class="font-semibold text-amber-300">不满意就追问</h4>
              <p class="text-sm text-slate-400 mt-1">
                "说得更详细一点" / "举个具体的例子"
              </p>
            </div>
          </div>

          <div class="flex gap-4 items-start">
            <span class="bg-amber-600 w-8 h-8 rounded-full flex items-center justify-center font-bold shrink-0">4</span>
            <div>
              <h4 class="font-semibold text-amber-300">给 AI 一个角色</h4>
              <p class="text-sm text-slate-400 mt-1">
                "假设你是一个有10年经验的健身教练..."
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Summary -->
      <div class="bg-gradient-to-r from-purple-600/30 via-blue-600/30 to-green-600/30 rounded-xl p-6 text-center">
        <p class="text-lg mb-2">
          记住这个比喻：
        </p>
        <p class="text-xl">
          <strong class="text-purple-300">🎬 导演指示</strong> +
          <strong class="text-blue-300">🙋 观众提问</strong> =
          <strong class="text-green-300">🤖 演员表演</strong>
        </p>
        <p class="text-slate-400 text-sm mt-3">现在你已经理解 AI 对话的本质啦！</p>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">←</span>
        <span>上一步</span>
      </button>
      <div class="flex items-center gap-2 px-6 py-3 bg-green-600 rounded-lg font-semibold">
        <span>🎉</span>
        <span>学习完成！</span>
      </div>
    </div>
  </div>
  </div>
  <!-- End capture div -->

  <!-- Page Navigation -->
  <div class="max-w-4xl mx-auto mt-12 pt-8 border-t border-slate-700">
    <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
      <a href="phantom-deps.html" class="flex items-center gap-2 px-5 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">←</span>
        <span>上一篇：NPM 幽灵依赖</span>
      </a>
      <a href="index.html" class="flex items-center gap-2 px-5 py-3 bg-slate-800 hover:bg-slate-700 rounded-lg transition-all">
        <span>🏠</span>
        <span>返回首页</span>
      </a>
      <a href="lsp-claude-code.html" class="flex items-center gap-2 px-5 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg transition-all group">
        <span>下一篇：LSP 与 Claude Code</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">→</span>
      </a>
    </div>
  </div>

  <!-- Download Buttons -->
  <div class="flex justify-center gap-4 mt-8 mb-4 flex-wrap">
    <button onclick="downloadCurrentTab()" class="px-6 py-3 bg-green-600 hover:bg-green-500 rounded-lg font-semibold transition-all flex items-center gap-2">
      📸 下载当前页面
    </button>
    <button onclick="downloadAllTabs()" class="px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition-all flex items-center gap-2">
      📦 下载全部页面
    </button>
  </div>

  <!-- Footer -->
  <div class="text-center mt-12 text-slate-500 text-sm">
    用心制作，让 AI 知识更易懂
  </div>

  <script>
    const steps = ['step-0', 'step-1', 'step-2', 'step-3', 'step-4'];
    const stepNames = ['一个比喻', '幕后导演', '你说的话', 'AI的回复', '实用技巧'];
    let currentStep = 0;

    function updateUI() {
      // Hide all tabs, show current
      steps.forEach((step, index) => {
        const el = document.getElementById(step);
        el.classList.toggle('active', index === currentStep);
      });

      // Update step dots
      document.querySelectorAll('.step-dot').forEach((dot, index) => {
        dot.classList.remove('active', 'completed');
        if (index === currentStep) {
          dot.classList.add('active');
        } else if (index < currentStep) {
          dot.classList.add('completed');
        }
      });

      // Update step labels
      document.querySelectorAll('.step-label').forEach((label, index) => {
        label.classList.remove('text-blue-400', 'bg-blue-500/20');
        label.classList.add('text-slate-400');
        if (index === currentStep) {
          label.classList.remove('text-slate-400');
          label.classList.add('text-blue-400', 'bg-blue-500/20');
        }
      });
    }

    function nextStep() {
      if (currentStep < steps.length - 1) {
        currentStep++;
        updateUI();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    function prevStep() {
      if (currentStep > 0) {
        currentStep--;
        updateUI();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    function goToStep(step) {
      currentStep = step;
      updateUI();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Click on step dots
    document.querySelectorAll('.step-dot').forEach(dot => {
      dot.addEventListener('click', () => {
        goToStep(parseInt(dot.dataset.step));
      });
    });

    function getCurrentTab() {
      return currentStep;
    }

    async function downloadCurrentTab() {
      const capture = document.getElementById('capture');

      try {
        const canvas = await html2canvas(capture, {
          backgroundColor: '#0f172a',
          scale: 2,
          useCORS: true
        });

        const link = document.createElement('a');
        link.download = `AI对话三种角色-${stepNames[currentStep]}.png`;
        link.href = canvas.toDataURL('image/png');
        link.click();
      } catch (err) {
        alert('下载失败: ' + err.message);
      }
    }

    async function downloadAllTabs() {
      const capture = document.getElementById('capture');

      for (let i = 0; i < steps.length; i++) {
        currentStep = i;
        updateUI();

        await new Promise(r => setTimeout(r, 100));

        try {
          const canvas = await html2canvas(capture, {
            backgroundColor: '#0f172a',
            scale: 2,
            useCORS: true
          });

          const link = document.createElement('a');
          link.download = `AI对话三种角色-${i + 1}-${stepNames[i]}.png`;
          link.href = canvas.toDataURL('image/png');
          link.click();

          await new Promise(r => setTimeout(r, 300));
        } catch (err) {
          console.error('下载失败:', err);
        }
      }
    }
  </script>
</body>
</html>
