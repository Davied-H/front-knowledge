<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NPM å¹½çµä¾èµ–è¯¦è§£</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    .step-dot { transition: all 0.3s ease; }
    .step-dot.active { background-color: #2563eb; transform: scale(1.2); }
    .step-dot.completed { background-color: #22c55e; }
  </style>
</head>
<body class="min-h-screen bg-slate-900 text-white p-8">
  <div id="capture">
  <h1 class="text-3xl font-bold text-center mb-2">ğŸ‘» NPM å¹½çµä¾èµ–</h1>
  <p class="text-slate-400 text-center mb-8">Phantom Dependencies</p>

  <!-- Step Indicator -->
  <div class="flex justify-center items-center gap-4 mb-8">
    <button class="step-dot active w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="0">1</button>
    <div class="w-8 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="1">2</button>
    <div class="w-8 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="2">3</button>
    <div class="w-8 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="3">4</button>
  </div>

  <!-- Step Labels -->
  <div class="flex justify-center gap-2 mb-8 flex-wrap">
    <span class="step-label text-blue-400 text-sm px-3 py-1 bg-blue-500/20 rounded-full" data-step="0">ğŸ” é—®é¢˜ç°è±¡</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="1">â“ ä¸ºä»€ä¹ˆä¼šè¿™æ ·</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="2">âš ï¸ å±é™©ä¹‹å¤„</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="3">âœ… è§£å†³æ–¹æ¡ˆ</span>
  </div>

  <!-- Problem Tab -->
  <div id="step-0" class="tab-content active max-w-4xl mx-auto">
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h2 class="text-xl font-semibold mb-4 text-amber-400">ä»€ä¹ˆæ˜¯å¹½çµä¾èµ–ï¼Ÿ</h2>
      <p class="text-slate-300 mb-4">
        ä½ çš„ä»£ç ä¸­å¼•ç”¨äº†ä¸€ä¸ªåŒ…ï¼Œä½†è¿™ä¸ªåŒ…<span class="text-red-400 font-bold">å¹¶æ²¡æœ‰</span>åœ¨ä½ çš„ package.json ä¸­å£°æ˜ã€‚
        å®ƒèƒ½å·¥ä½œï¼Œçº¯ç²¹æ˜¯å› ä¸ºå®ƒæ˜¯ä½ æŸä¸ªä¾èµ–çš„ä¾èµ–ã€‚
      </p>
    </div>

    <div class="bg-slate-800 rounded-xl p-6">
      <h3 class="text-lg font-semibold mb-6 text-center">ä»£ç ç¤ºä¾‹</h3>

      <div class="grid md:grid-cols-2 gap-6">
        <!-- package.json -->
        <div class="bg-slate-900 rounded-lg p-4">
          <div class="flex items-center gap-2 mb-3">
            <div class="w-3 h-3 rounded-full bg-green-500"></div>
            <span class="text-slate-400 text-sm">package.json</span>
          </div>
          <pre class="text-sm text-green-300">{
  "dependencies": {
    "express": "^4.18.0"
  }
}</pre>
          <div class="mt-3 text-xs text-slate-500">
            â˜ï¸ åªå£°æ˜äº† express
          </div>
        </div>

        <!-- Your Code -->
        <div class="bg-slate-900 rounded-lg p-4">
          <div class="flex items-center gap-2 mb-3">
            <div class="w-3 h-3 rounded-full bg-blue-500"></div>
            <span class="text-slate-400 text-sm">your-code.js</span>
          </div>
          <pre class="text-sm"><span class="text-green-400">// âœ… æ­£å¸¸å¼•ç”¨</span>
<span class="text-blue-300">import</span> express <span class="text-blue-300">from</span> <span class="text-amber-300">'express'</span>;

<span class="text-red-400">// ğŸ‘» å¹½çµä¾èµ–ï¼</span>
<span class="text-blue-300">import</span> qs <span class="text-blue-300">from</span> <span class="text-amber-300">'qs'</span>;
<span class="text-blue-300">import</span> cookie <span class="text-blue-300">from</span> <span class="text-amber-300">'cookie'</span>;</pre>
          <div class="mt-3 text-xs text-red-400">
            âš ï¸ qs å’Œ cookie æ²¡æœ‰åœ¨ package.json ä¸­ï¼
          </div>
        </div>
      </div>

      <div class="mt-6 flex items-center justify-center">
        <div class="bg-amber-500/20 border border-amber-500/50 rounded-lg px-4 py-2 text-amber-300 text-sm text-center">
          ğŸ’¡ è¿™äº›ä»£ç å±…ç„¶èƒ½è¿è¡Œï¼å› ä¸º express ä¾èµ–äº† qs å’Œ cookie
        </div>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <div></div>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition-all group">
        <span>ä¸‹ä¸€æ­¥ï¼šä¸ºä»€ä¹ˆä¼šè¿™æ ·</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">â†’</span>
      </button>
    </div>
  </div>

  <!-- Why Tab -->
  <div id="step-1" class="tab-content max-w-5xl mx-auto">
    <div class="bg-slate-800 rounded-xl p-6">
      <h2 class="text-xl font-semibold mb-6 text-center text-amber-400">npm çš„æ‰å¹³åŒ–å®‰è£…æœºåˆ¶</h2>

      <div class="flex flex-col lg:flex-row justify-around items-start gap-8">
        <!-- Your Project -->
        <div class="flex-1 w-full">
          <div class="text-center mb-4">
            <span class="bg-blue-600 px-4 py-2 rounded-lg inline-block">ğŸ“¦ ä½ çš„é¡¹ç›®</span>
          </div>

          <div class="flex justify-center">
            <div class="w-0.5 h-8 bg-slate-600"></div>
          </div>
          <div class="text-center">
            <span class="bg-green-600 px-3 py-1 rounded inline-block text-sm">express</span>
            <span class="text-xs text-slate-400 block mt-1">å£°æ˜çš„ä¾èµ–</span>
          </div>

          <div class="flex justify-center">
            <div class="w-0.5 h-8 bg-slate-600"></div>
          </div>
          <div class="flex justify-center gap-2 flex-wrap">
            <span class="bg-red-500/30 border border-red-500 px-2 py-1 rounded text-xs">qs</span>
            <span class="bg-red-500/30 border border-red-500 px-2 py-1 rounded text-xs">cookie</span>
            <span class="bg-red-500/30 border border-red-500 px-2 py-1 rounded text-xs">body-parser</span>
            <span class="bg-red-500/30 border border-red-500 px-2 py-1 rounded text-xs">...</span>
          </div>
          <div class="text-center text-xs text-slate-400 mt-2">express çš„ä¾èµ–</div>
        </div>

        <!-- Arrow -->
        <div class="flex flex-col items-center justify-center py-4 lg:pt-12">
          <span class="text-4xl">â†’</span>
          <span class="text-xs text-slate-400 mt-2">npm install</span>
        </div>

        <!-- node_modules -->
        <div class="flex-1 w-full">
          <div class="text-center mb-4">
            <span class="bg-purple-600 px-4 py-2 rounded-lg inline-block">ğŸ“ node_modules</span>
          </div>

          <div class="bg-slate-900 rounded-lg p-4 text-sm">
            <div class="space-y-2">
              <div class="flex items-center gap-2">
                <span class="text-yellow-400">ğŸ“‚</span>
                <span>express/</span>
              </div>
              <div class="flex items-center gap-2 text-red-400 flex-wrap">
                <span>ğŸ“‚</span>
                <span>qs/</span>
                <span class="text-xs bg-red-500/30 px-1 rounded">ğŸ‘» æ‰å¹³åŒ–æå‡</span>
              </div>
              <div class="flex items-center gap-2 text-red-400 flex-wrap">
                <span>ğŸ“‚</span>
                <span>cookie/</span>
                <span class="text-xs bg-red-500/30 px-1 rounded">ğŸ‘» æ‰å¹³åŒ–æå‡</span>
              </div>
              <div class="flex items-center gap-2 text-red-400 flex-wrap">
                <span>ğŸ“‚</span>
                <span>body-parser/</span>
                <span class="text-xs bg-red-500/30 px-1 rounded">ğŸ‘» æ‰å¹³åŒ–æå‡</span>
              </div>
              <div class="text-slate-500">...</div>
            </div>
          </div>

          <div class="mt-3 text-xs text-center text-slate-400">
            æ‰€æœ‰ä¾èµ–éƒ½è¢«<span class="text-amber-400">æå‡</span>åˆ°é¡¶å±‚
          </div>
        </div>
      </div>

      <div class="mt-8 bg-blue-500/20 border border-blue-500/50 rounded-lg p-4">
        <p class="text-blue-300 text-sm">
          <strong>ä¸ºä»€ä¹ˆè¦æ‰å¹³åŒ–ï¼Ÿ</strong> npm v3+ ä¸ºäº†å‡å°‘åµŒå¥—å±‚çº§å’Œç£ç›˜ç©ºé—´ï¼Œä¼šæŠŠå­ä¾èµ–"æå‡"åˆ°é¡¶å±‚ node_modulesã€‚
          è¿™å¯¼è‡´ä½ <strong class="text-amber-300">å¯ä»¥ç›´æ¥ import ä»»ä½•å­ä¾èµ–</strong>ï¼Œå³ä½¿ä½ æ²¡æœ‰å£°æ˜å®ƒã€‚
        </p>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">â†</span>
        <span>ä¸Šä¸€æ­¥</span>
      </button>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition-all group">
        <span>ä¸‹ä¸€æ­¥ï¼šå±é™©ä¹‹å¤„</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">â†’</span>
      </button>
    </div>
  </div>

  <!-- Danger Tab -->
  <div id="step-2" class="tab-content max-w-4xl mx-auto">
    <div class="grid gap-4">
      <div class="bg-red-500/20 border border-red-500/50 rounded-xl p-4 flex gap-4 items-start">
        <span class="text-3xl">ğŸ’¥</span>
        <div>
          <h3 class="font-semibold mb-1">ä¾èµ–å‡çº§åå´©æºƒ</h3>
          <p class="text-slate-300 text-sm">express å‡çº§åå¯èƒ½ä¸å†ä¾èµ– qsï¼Œä½ çš„ä»£ç ç›´æ¥æŠ¥é”™ "Cannot find module"</p>
        </div>
      </div>

      <div class="bg-orange-500/20 border border-orange-500/50 rounded-xl p-4 flex gap-4 items-start">
        <span class="text-3xl">ğŸ²</span>
        <div>
          <h3 class="font-semibold mb-1">ç‰ˆæœ¬ä¸å¯æ§</h3>
          <p class="text-slate-300 text-sm">ä½ ç”¨çš„ qs ç‰ˆæœ¬å®Œå…¨å–å†³äº express ç”¨çš„ç‰ˆæœ¬ï¼Œå¯èƒ½å’Œä½ æœŸæœ›çš„ API ä¸ä¸€è‡´</p>
        </div>
      </div>

      <div class="bg-yellow-500/20 border border-yellow-500/50 rounded-xl p-4 flex gap-4 items-start">
        <span class="text-3xl">ğŸ‘¥</span>
        <div>
          <h3 class="font-semibold mb-1">å›¢é˜Ÿåä½œé—®é¢˜</h3>
          <p class="text-slate-300 text-sm">åŒäº‹ clone é¡¹ç›®åï¼Œå¯èƒ½å› ä¸º npm ç‰ˆæœ¬ä¸åŒå¯¼è‡´ä¾èµ–ç»“æ„ä¸åŒï¼Œå‡ºç°è¯¡å¼‚ bug</p>
        </div>
      </div>

      <div class="bg-purple-500/20 border border-purple-500/50 rounded-xl p-4 flex gap-4 items-start">
        <span class="text-3xl">ğŸ”</span>
        <div>
          <h3 class="font-semibold mb-1">CI/CD éšæœºå¤±è´¥</h3>
          <p class="text-slate-300 text-sm">æœ¬åœ°èƒ½è·‘ï¼ŒCI ç¯å¢ƒæŒ‚æ‰ï¼Œå› ä¸ºä¾èµ–è§£æç»“æœä¸ç¡®å®š</p>
        </div>
      </div>
    </div>

    <!-- Timeline disaster -->
    <div class="mt-8 bg-slate-800 rounded-xl p-6">
      <h3 class="text-lg font-semibold mb-4 text-center">ğŸ¬ ç¾éš¾åœºæ™¯å›æ”¾</h3>
      <div class="flex items-center justify-between flex-wrap gap-4">
        <div class="text-center flex-1 min-w-[80px]">
          <div class="text-3xl mb-2">ğŸ˜Š</div>
          <div class="text-xs text-slate-400">å‘¨ä¸€</div>
          <div class="text-sm mt-1">ä»£ç æ­£å¸¸è¿è¡Œ</div>
        </div>
        <div class="text-2xl text-slate-600">â†’</div>
        <div class="text-center flex-1 min-w-[80px]">
          <div class="text-3xl mb-2">ğŸ”„</div>
          <div class="text-xs text-slate-400">å‘¨ä¸‰</div>
          <div class="text-sm mt-1">npm update</div>
        </div>
        <div class="text-2xl text-slate-600">â†’</div>
        <div class="text-center flex-1 min-w-[80px]">
          <div class="text-3xl mb-2">ğŸ“¦</div>
          <div class="text-xs text-slate-400">å‘¨å››</div>
          <div class="text-sm mt-1">express ä¸å†ç”¨ qs</div>
        </div>
        <div class="text-2xl text-slate-600">â†’</div>
        <div class="text-center flex-1 min-w-[80px]">
          <div class="text-3xl mb-2">ğŸ’€</div>
          <div class="text-xs text-slate-400">å‘¨äº”</div>
          <div class="text-sm mt-1">ç”Ÿäº§ç¯å¢ƒå´©æºƒ</div>
        </div>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">â†</span>
        <span>ä¸Šä¸€æ­¥</span>
      </button>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition-all group">
        <span>ä¸‹ä¸€æ­¥ï¼šè§£å†³æ–¹æ¡ˆ</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">â†’</span>
      </button>
    </div>
  </div>

  <!-- Solution Tab -->
  <div id="step-3" class="tab-content max-w-4xl mx-auto">
    <div class="grid gap-6">
      <!-- Solution 1 -->
      <div class="bg-slate-800 rounded-xl p-6">
        <div class="flex items-center gap-3 mb-4">
          <span class="bg-green-600 w-8 h-8 rounded-full flex items-center justify-center font-bold">1</span>
          <h3 class="text-lg font-semibold">æ˜¾å¼å£°æ˜æ‰€æœ‰ä¾èµ–</h3>
        </div>
        <div class="bg-slate-900 rounded-lg p-4 text-sm">
          <pre class="text-green-400">npm install qs cookie --save</pre>
        </div>
        <p class="text-slate-400 text-sm mt-3">ç”¨åˆ°ä»€ä¹ˆå°±å®‰è£…ä»€ä¹ˆï¼Œåˆ«å·æ‡’ï¼</p>
      </div>

      <!-- Solution 2 -->
      <div class="bg-slate-800 rounded-xl p-6">
        <div class="flex items-center gap-3 mb-4">
          <span class="bg-blue-600 w-8 h-8 rounded-full flex items-center justify-center font-bold">2</span>
          <h3 class="text-lg font-semibold">ä½¿ç”¨ pnpm æ›¿ä»£ npm</h3>
        </div>
        <div class="flex flex-col md:flex-row gap-4">
          <div class="flex-1 bg-red-500/20 rounded-lg p-4">
            <div class="text-sm font-semibold mb-2 text-red-400">âŒ npm (æ‰å¹³ç»“æ„)</div>
            <pre class="text-xs text-slate-400">node_modules/
â”œâ”€â”€ express/
â”œâ”€â”€ qs/        â† å¯ç›´æ¥è®¿é—®
â””â”€â”€ cookie/    â† å¯ç›´æ¥è®¿é—®</pre>
          </div>
          <div class="flex-1 bg-green-500/20 rounded-lg p-4">
            <div class="text-sm font-semibold mb-2 text-green-400">âœ… pnpm (ä¸¥æ ¼éš”ç¦»)</div>
            <pre class="text-xs text-slate-400">node_modules/
â”œâ”€â”€ express/ â†’ .pnpm/express
â””â”€â”€ .pnpm/
    â”œâ”€â”€ express/
    â”œâ”€â”€ qs/    â† æ— æ³•ç›´æ¥è®¿é—®
    â””â”€â”€ cookie/â† æ— æ³•ç›´æ¥è®¿é—®</pre>
          </div>
        </div>
        <p class="text-slate-400 text-sm mt-3">pnpm ä½¿ç”¨ç¬¦å·é“¾æ¥ï¼Œåªæœ‰å£°æ˜çš„ä¾èµ–æ‰èƒ½è¢«è®¿é—®</p>
      </div>

      <!-- Solution 3 -->
      <div class="bg-slate-800 rounded-xl p-6">
        <div class="flex items-center gap-3 mb-4">
          <span class="bg-purple-600 w-8 h-8 rounded-full flex items-center justify-center font-bold">3</span>
          <h3 class="text-lg font-semibold">ä½¿ç”¨ ESLint æ£€æµ‹</h3>
        </div>
        <div class="bg-slate-900 rounded-lg p-4 text-sm">
          <pre class="text-purple-400">npm install eslint-plugin-import -D</pre>
          <pre class="text-slate-400 mt-2">// .eslintrc
"rules": { "import/no-extraneous-dependencies": "error" }</pre>
        </div>
        <p class="text-slate-400 text-sm mt-3">è‡ªåŠ¨æ£€æµ‹æœªå£°æ˜çš„ä¾èµ–å¼•ç”¨</p>
      </div>
    </div>

    <!-- Summary -->
    <div class="mt-6 bg-gradient-to-r from-blue-600/30 to-purple-600/30 rounded-xl p-6 text-center">
      <p class="text-lg">
        ğŸ¯ <strong>æ ¸å¿ƒåŸåˆ™ï¼š</strong>package.json é‡Œæ²¡æœ‰çš„ï¼Œä»£ç é‡Œå°±åˆ«ç”¨
      </p>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">â†</span>
        <span>ä¸Šä¸€æ­¥</span>
      </button>
      <div class="flex items-center gap-2 px-6 py-3 bg-green-600 rounded-lg font-semibold">
        <span>ğŸ‰</span>
        <span>å­¦ä¹ å®Œæˆï¼</span>
      </div>
    </div>
  </div>
  </div>
  <!-- End capture div -->

  <!-- Page Navigation -->
  <div class="max-w-4xl mx-auto mt-12 pt-8 border-t border-slate-700">
    <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
      <a href="why-package-lock.html" class="flex items-center gap-2 px-5 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">â†</span>
        <span>ä¸Šä¸€ç¯‡ï¼špackage-lock.json</span>
      </a>
      <a href="index.html" class="flex items-center gap-2 px-5 py-3 bg-slate-800 hover:bg-slate-700 rounded-lg transition-all">
        <span>ğŸ </span>
        <span>è¿”å›é¦–é¡µ</span>
      </a>
      <a href="llm-prompts.html" class="flex items-center gap-2 px-5 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg transition-all group">
        <span>ä¸‹ä¸€ç¯‡ï¼šAI å¯¹è¯è§’è‰²</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">â†’</span>
      </a>
    </div>
  </div>

  <!-- Download Buttons -->
  <div class="flex justify-center gap-4 mt-8 mb-4 flex-wrap">
    <button onclick="downloadCurrentTab()" class="px-6 py-3 bg-green-600 hover:bg-green-500 rounded-lg font-semibold transition-all flex items-center gap-2">
      ğŸ“¸ ä¸‹è½½å½“å‰é¡µé¢
    </button>
    <button onclick="downloadAllTabs()" class="px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition-all flex items-center gap-2">
      ğŸ“¦ ä¸‹è½½å…¨éƒ¨é¡µé¢
    </button>
  </div>

  <!-- Footer -->
  <div class="text-center mt-12 text-slate-500 text-sm">
    Made with â¤ï¸ for Frontend Developers
  </div>

  <script>
    const steps = ['step-0', 'step-1', 'step-2', 'step-3'];
    const stepNames = ['é—®é¢˜ç°è±¡', 'ä¸ºä»€ä¹ˆä¼šè¿™æ ·', 'å±é™©ä¹‹å¤„', 'è§£å†³æ–¹æ¡ˆ'];
    let currentStep = 0;

    function updateUI() {
      // Hide all tabs, show current
      steps.forEach((step, index) => {
        const el = document.getElementById(step);
        el.classList.toggle('active', index === currentStep);
      });

      // Update step dots
      document.querySelectorAll('.step-dot').forEach((dot, index) => {
        dot.classList.remove('active', 'completed');
        if (index === currentStep) {
          dot.classList.add('active');
        } else if (index < currentStep) {
          dot.classList.add('completed');
        }
      });

      // Update step labels
      document.querySelectorAll('.step-label').forEach((label, index) => {
        label.classList.remove('text-blue-400', 'bg-blue-500/20');
        label.classList.add('text-slate-400');
        if (index === currentStep) {
          label.classList.remove('text-slate-400');
          label.classList.add('text-blue-400', 'bg-blue-500/20');
        }
      });
    }

    function nextStep() {
      if (currentStep < steps.length - 1) {
        currentStep++;
        updateUI();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    function prevStep() {
      if (currentStep > 0) {
        currentStep--;
        updateUI();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    function goToStep(step) {
      currentStep = step;
      updateUI();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Click on step dots
    document.querySelectorAll('.step-dot').forEach(dot => {
      dot.addEventListener('click', () => {
        goToStep(parseInt(dot.dataset.step));
      });
    });

    function getCurrentTab() {
      return currentStep;
    }

    async function downloadCurrentTab() {
      const capture = document.getElementById('capture');

      try {
        const canvas = await html2canvas(capture, {
          backgroundColor: '#0f172a',
          scale: 2,
          useCORS: true
        });

        const link = document.createElement('a');
        link.download = `npm-å¹½çµä¾èµ–-${stepNames[currentStep]}.png`;
        link.href = canvas.toDataURL('image/png');
        link.click();
      } catch (err) {
        alert('ä¸‹è½½å¤±è´¥: ' + err.message);
      }
    }

    async function downloadAllTabs() {
      const capture = document.getElementById('capture');

      for (let i = 0; i < steps.length; i++) {
        currentStep = i;
        updateUI();

        await new Promise(r => setTimeout(r, 100));

        try {
          const canvas = await html2canvas(capture, {
            backgroundColor: '#0f172a',
            scale: 2,
            useCORS: true
          });

          const link = document.createElement('a');
          link.download = `npm-å¹½çµä¾èµ–-${i + 1}-${stepNames[i]}.png`;
          link.href = canvas.toDataURL('image/png');
          link.click();

          await new Promise(r => setTimeout(r, 300));
        } catch (err) {
          console.error('ä¸‹è½½å¤±è´¥:', err);
        }
      }
    }
  </script>
</body>
</html>
