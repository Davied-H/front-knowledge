<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LSP 与 Claude Code - 让 AI 编程助手更智能</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    .step-dot { transition: all 0.3s ease; }
    .step-dot.active { background-color: #2563eb; transform: scale(1.2); }
    .step-dot.completed { background-color: #22c55e; }

    .message-box {
      border-left: 4px solid;
      padding: 1rem;
      margin: 0.5rem 0;
    }

    .lsp-msg { border-color: #06b6d4; background: rgba(6, 182, 212, 0.1); }
    .claude-msg { border-color: #f97316; background: rgba(249, 115, 22, 0.1); }
    .result-msg { border-color: #22c55e; background: rgba(34, 197, 94, 0.1); }

    .code-block {
      background: #1e293b;
      border-radius: 8px;
      padding: 16px;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 14px;
      overflow-x: auto;
    }

    .gradient-card {
      background: linear-gradient(135deg, rgba(6, 182, 212, 0.1), rgba(249, 115, 22, 0.1));
      border: 1px solid rgba(6, 182, 212, 0.3);
    }

    .feature-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }
  </style>
</head>
<body class="min-h-screen bg-slate-900 text-white p-8">
  <div id="capture">
  <h1 class="text-3xl font-bold text-center mb-2">LSP 与 Claude Code</h1>
  <p class="text-slate-400 text-center mb-8">让 AI 编程助手拥有 IDE 级别的代码理解能力</p>

  <!-- Step Indicator -->
  <div class="flex justify-center items-center gap-3 mb-8">
    <button class="step-dot active w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="0">1</button>
    <div class="w-6 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="1">2</button>
    <div class="w-6 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="2">3</button>
    <div class="w-6 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="3">4</button>
    <div class="w-6 h-0.5 bg-slate-700"></div>
    <button class="step-dot w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold cursor-pointer hover:opacity-80" data-step="4">5</button>
  </div>

  <!-- Step Labels -->
  <div class="flex justify-center gap-2 mb-8 flex-wrap">
    <span class="step-label text-blue-400 text-sm px-3 py-1 bg-blue-500/20 rounded-full" data-step="0">什么是 LSP</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="1">工作原理</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="2">Claude Code 支持</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="3">重大影响</span>
    <span class="step-label text-slate-400 text-sm px-3 py-1" data-step="4">如何使用</span>
  </div>

  <!-- Overview Tab -->
  <div id="step-0" class="tab-content active max-w-4xl mx-auto">
    <!-- What is LSP -->
    <div class="gradient-card rounded-xl p-6 mb-6">
      <h2 class="text-xl font-semibold mb-4 text-center">Language Server Protocol (语言服务器协议)</h2>

      <div class="bg-slate-800 rounded-lg p-4 mb-4">
        <p class="text-slate-300 leading-relaxed">
          <strong class="text-cyan-400">LSP</strong> 是由微软创建的一种开放标准协议，用于在代码编辑器/IDE 与语言分析服务器之间进行通信。
        </p>
        <p class="text-slate-400 text-sm mt-2">
          简单来说：它让不同的编辑器都能获得<strong class="text-amber-300">相同的智能代码功能</strong>，比如自动补全、跳转定义、查找引用等。
        </p>
      </div>

      <div class="grid md:grid-cols-3 gap-6 mt-6">
        <div class="text-center">
          <div class="text-5xl mb-3">📝</div>
          <div class="text-cyan-300 font-bold text-lg mb-2">编辑器/客户端</div>
          <p class="text-xs text-slate-500">VS Code、Vim、Emacs...<br>负责显示代码和用户交互</p>
        </div>
        <div class="text-center">
          <div class="text-5xl mb-3">🔌</div>
          <div class="text-amber-300 font-bold text-lg mb-2">LSP 协议</div>
          <p class="text-xs text-slate-500">JSON-RPC 通信<br>标准化的消息格式</p>
        </div>
        <div class="text-center">
          <div class="text-5xl mb-3">🧠</div>
          <div class="text-green-300 font-bold text-lg mb-2">语言服务器</div>
          <p class="text-xs text-slate-500">分析代码、提供智能提示<br>每种语言一个服务器</p>
        </div>
      </div>
    </div>

    <!-- The Problem LSP Solves -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h2 class="text-xl font-semibold mb-4 text-amber-400">LSP 解决了什么问题？</h2>

      <div class="grid md:grid-cols-2 gap-6">
        <!-- Before LSP -->
        <div class="bg-red-500/10 border border-red-500/30 rounded-lg p-4">
          <div class="text-red-400 font-semibold mb-3 flex items-center gap-2">
            <span>❌</span> 没有 LSP 之前
          </div>
          <div class="space-y-2 text-sm text-slate-300">
            <p>假设有 <strong>M 个编辑器</strong>（VS Code、Vim、Emacs...）</p>
            <p>和 <strong>N 种语言</strong>（Python、TypeScript、Rust...）</p>
            <p class="text-red-300 font-semibold mt-3">需要开发 M × N 个插件！</p>
          </div>
        </div>

        <!-- After LSP -->
        <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-4">
          <div class="text-green-400 font-semibold mb-3 flex items-center gap-2">
            <span>✅</span> 有了 LSP 之后
          </div>
          <div class="space-y-2 text-sm text-slate-300">
            <p>每个编辑器只需实现 <strong>1 个 LSP 客户端</strong></p>
            <p>每种语言只需实现 <strong>1 个语言服务器</strong></p>
            <p class="text-green-300 font-semibold mt-3">只需要 M + N 个组件！</p>
          </div>
        </div>
      </div>

      <div class="mt-6 bg-cyan-500/20 border border-cyan-500/50 rounded-lg p-4">
        <p class="text-cyan-300 text-sm text-center">
          <strong>核心思想：</strong>M × N 问题 → M + N 问题，大大降低了开发和维护成本
        </p>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <div></div>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition-all group">
        <span>下一步：工作原理</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">→</span>
      </button>
    </div>
  </div>

  <!-- How It Works Tab -->
  <div id="step-1" class="tab-content max-w-4xl mx-auto">
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h2 class="text-xl font-semibold mb-4 text-cyan-400">LSP 通信机制</h2>

      <div class="bg-slate-900 rounded-lg p-4 mb-4">
        <p class="text-slate-300 text-sm mb-4">
          LSP 使用 <strong class="text-amber-300">JSON-RPC</strong>（远程过程调用）协议进行通信。
          编辑器发送请求，语言服务器返回结果。
        </p>

        <!-- Communication Flow -->
        <div class="space-y-4">
          <div class="message-box lsp-msg rounded-lg">
            <div class="flex items-center gap-2 mb-2">
              <span class="bg-cyan-600 px-2 py-1 rounded text-xs font-bold">1. 初始化</span>
            </div>
            <p class="text-sm text-slate-300">客户端发送 <code class="bg-slate-700 px-1 rounded">initialize</code> 请求，告知服务器自己的能力</p>
          </div>

          <div class="message-box lsp-msg rounded-lg">
            <div class="flex items-center gap-2 mb-2">
              <span class="bg-cyan-600 px-2 py-1 rounded text-xs font-bold">2. 文档同步</span>
            </div>
            <p class="text-sm text-slate-300">用户打开文件时，发送 <code class="bg-slate-700 px-1 rounded">textDocument/didOpen</code> 通知</p>
          </div>

          <div class="message-box lsp-msg rounded-lg">
            <div class="flex items-center gap-2 mb-2">
              <span class="bg-cyan-600 px-2 py-1 rounded text-xs font-bold">3. 功能请求</span>
            </div>
            <p class="text-sm text-slate-300">用户触发操作（如 Ctrl+Click），发送相应请求，服务器返回结果</p>
          </div>
        </div>
      </div>
    </div>

    <!-- LSP Features -->
    <div class="bg-slate-800 rounded-xl p-6">
      <h3 class="text-lg font-semibold mb-4">LSP 提供的主要功能</h3>

      <div class="grid md:grid-cols-2 gap-4">
        <div class="bg-slate-900 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <div class="feature-icon bg-blue-600">🎯</div>
            <div>
              <div class="font-semibold">Go to Definition</div>
              <div class="text-xs text-slate-500">跳转到定义</div>
            </div>
          </div>
          <p class="text-sm text-slate-400">点击函数名，直接跳转到它的定义位置</p>
        </div>

        <div class="bg-slate-900 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <div class="feature-icon bg-purple-600">🔍</div>
            <div>
              <div class="font-semibold">Find References</div>
              <div class="text-xs text-slate-500">查找引用</div>
            </div>
          </div>
          <p class="text-sm text-slate-400">找到代码中所有使用该符号的地方</p>
        </div>

        <div class="bg-slate-900 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <div class="feature-icon bg-green-600">💡</div>
            <div>
              <div class="font-semibold">Hover Information</div>
              <div class="text-xs text-slate-500">悬停信息</div>
            </div>
          </div>
          <p class="text-sm text-slate-400">鼠标悬停显示类型信息和文档</p>
        </div>

        <div class="bg-slate-900 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <div class="feature-icon bg-amber-600">✨</div>
            <div>
              <div class="font-semibold">Auto Completion</div>
              <div class="text-xs text-slate-500">自动补全</div>
            </div>
          </div>
          <p class="text-sm text-slate-400">智能代码补全建议</p>
        </div>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">←</span>
        <span>上一步</span>
      </button>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition-all group">
        <span>下一步：Claude Code 支持</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">→</span>
      </button>
    </div>
  </div>

  <!-- Claude Code Tab -->
  <div id="step-2" class="tab-content max-w-4xl mx-auto">
    <div class="gradient-card rounded-xl p-6 mb-6">
      <div class="flex items-center gap-3 mb-4">
        <span class="text-3xl">🤖</span>
        <h2 class="text-xl font-semibold">Claude Code 的 LSP 集成</h2>
      </div>

      <div class="bg-slate-800 rounded-lg p-4 mb-4">
        <p class="text-slate-300">
          从版本 <strong class="text-amber-300">2.0.74</strong> 开始，Claude Code 内置了 LSP 支持。
          这意味着 Claude 现在可以像 IDE 一样<strong class="text-cyan-300">真正理解你的代码结构</strong>，
          而不仅仅是把代码当作普通文本处理。
        </p>
      </div>

      <div class="bg-amber-500/20 border border-amber-500/50 rounded-lg p-4">
        <p class="text-amber-300 text-sm">
          <strong>重要意义：</strong>这是 AI 编程助手从"文本处理"向"代码理解"的重大飞跃！
        </p>
      </div>
    </div>

    <!-- Supported Features -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h3 class="text-lg font-semibold mb-4">Claude Code 支持的 LSP 功能</h3>

      <div class="grid md:grid-cols-2 gap-4">
        <div class="flex gap-4 items-start bg-slate-900 rounded-lg p-4">
          <div class="text-2xl">🎯</div>
          <div class="flex-1">
            <div class="flex items-center gap-2">
              <span class="font-semibold text-cyan-300">goToDefinition</span>
              <span class="text-xs bg-green-600 px-2 py-0.5 rounded">已支持</span>
            </div>
            <p class="text-sm text-slate-400 mt-1">精确找到函数、类、变量的定义位置</p>
          </div>
        </div>

        <div class="flex gap-4 items-start bg-slate-900 rounded-lg p-4">
          <div class="text-2xl">🔍</div>
          <div class="flex-1">
            <div class="flex items-center gap-2">
              <span class="font-semibold text-cyan-300">findReferences</span>
              <span class="text-xs bg-green-600 px-2 py-0.5 rounded">已支持</span>
            </div>
            <p class="text-sm text-slate-400 mt-1">找到所有使用某个符号的地方</p>
          </div>
        </div>

        <div class="flex gap-4 items-start bg-slate-900 rounded-lg p-4">
          <div class="text-2xl">📋</div>
          <div class="flex-1">
            <div class="flex items-center gap-2">
              <span class="font-semibold text-cyan-300">documentSymbol</span>
              <span class="text-xs bg-green-600 px-2 py-0.5 rounded">已支持</span>
            </div>
            <p class="text-sm text-slate-400 mt-1">获取文件的完整结构概览</p>
          </div>
        </div>

        <div class="flex gap-4 items-start bg-slate-900 rounded-lg p-4">
          <div class="text-2xl">💡</div>
          <div class="flex-1">
            <div class="flex items-center gap-2">
              <span class="font-semibold text-cyan-300">hover</span>
              <span class="text-xs bg-green-600 px-2 py-0.5 rounded">已支持</span>
            </div>
            <p class="text-sm text-slate-400 mt-1">获取符号的类型信息和文档注释</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Supported Languages -->
    <div class="bg-slate-800 rounded-xl p-6">
      <h3 class="text-lg font-semibold mb-4">已支持的语言</h3>

      <div class="grid grid-cols-4 md:grid-cols-8 gap-3">
        <div class="bg-slate-900 rounded-lg p-3 text-center">
          <div class="text-2xl mb-1">🟦</div>
          <div class="text-xs font-semibold">TS</div>
        </div>
        <div class="bg-slate-900 rounded-lg p-3 text-center">
          <div class="text-2xl mb-1">🐍</div>
          <div class="text-xs font-semibold">Python</div>
        </div>
        <div class="bg-slate-900 rounded-lg p-3 text-center">
          <div class="text-2xl mb-1">🦀</div>
          <div class="text-xs font-semibold">Rust</div>
        </div>
        <div class="bg-slate-900 rounded-lg p-3 text-center">
          <div class="text-2xl mb-1">🐹</div>
          <div class="text-xs font-semibold">Go</div>
        </div>
        <div class="bg-slate-900 rounded-lg p-3 text-center">
          <div class="text-2xl mb-1">☕</div>
          <div class="text-xs font-semibold">Java</div>
        </div>
        <div class="bg-slate-900 rounded-lg p-3 text-center">
          <div class="text-2xl mb-1">🅺</div>
          <div class="text-xs font-semibold">Kotlin</div>
        </div>
        <div class="bg-slate-900 rounded-lg p-3 text-center">
          <div class="text-2xl mb-1">⚙️</div>
          <div class="text-xs font-semibold">C/C++</div>
        </div>
        <div class="bg-slate-900 rounded-lg p-3 text-center">
          <div class="text-2xl mb-1">💎</div>
          <div class="text-xs font-semibold">Ruby</div>
        </div>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">←</span>
        <span>上一步</span>
      </button>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition-all group">
        <span>下一步：重大影响</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">→</span>
      </button>
    </div>
  </div>

  <!-- Impact Tab -->
  <div id="step-3" class="tab-content max-w-4xl mx-auto">
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h2 class="text-xl font-semibold mb-4 text-amber-400">Claude Code 支持 LSP 的重大影响</h2>

      <p class="text-slate-300 mb-4">
        LSP 的加入让 Claude Code 从一个"智能文本助手"进化为"真正的编程伙伴"。
      </p>
    </div>

    <!-- Before vs After -->
    <div class="grid md:grid-cols-2 gap-6 mb-6">
      <div class="bg-red-500/10 border border-red-500/30 rounded-xl p-6">
        <div class="text-red-400 font-semibold mb-4 text-lg flex items-center gap-2">
          <span>❌</span> 没有 LSP 时
        </div>
        <div class="space-y-3 text-sm">
          <div class="flex gap-3">
            <span class="text-red-400">•</span>
            <p class="text-slate-300">只能通过<strong>文本匹配</strong>搜索代码</p>
          </div>
          <div class="flex gap-3">
            <span class="text-red-400">•</span>
            <p class="text-slate-300">无法区分同名的函数、变量</p>
          </div>
          <div class="flex gap-3">
            <span class="text-red-400">•</span>
            <p class="text-slate-300">重构时可能遗漏引用位置</p>
          </div>
        </div>
      </div>

      <div class="bg-green-500/10 border border-green-500/30 rounded-xl p-6">
        <div class="text-green-400 font-semibold mb-4 text-lg flex items-center gap-2">
          <span>✅</span> 有了 LSP 后
        </div>
        <div class="space-y-3 text-sm">
          <div class="flex gap-3">
            <span class="text-green-400">•</span>
            <p class="text-slate-300">获得<strong>语义级别</strong>的代码理解能力</p>
          </div>
          <div class="flex gap-3">
            <span class="text-green-400">•</span>
            <p class="text-slate-300">精确定位任何符号的定义</p>
          </div>
          <div class="flex gap-3">
            <span class="text-green-400">•</span>
            <p class="text-slate-300">重构时 100% 找到所有引用</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Industry Impact -->
    <div class="bg-gradient-to-r from-cyan-600/30 to-amber-600/30 rounded-xl p-6">
      <h3 class="text-lg font-semibold mb-4 text-center">行业影响</h3>

      <div class="grid md:grid-cols-3 gap-4 text-center">
        <div>
          <div class="text-3xl mb-2">🚀</div>
          <div class="font-semibold text-cyan-300">更高效</div>
          <p class="text-xs text-slate-400 mt-1">AI 理解代码更快、更准确</p>
        </div>
        <div>
          <div class="text-3xl mb-2">🛡️</div>
          <div class="font-semibold text-green-300">更安全</div>
          <p class="text-xs text-slate-400 mt-1">重构和修改不再靠猜测</p>
        </div>
        <div>
          <div class="text-3xl mb-2">🌐</div>
          <div class="font-semibold text-amber-300">更通用</div>
          <p class="text-xs text-slate-400 mt-1">支持任何有 LSP 的语言</p>
        </div>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">←</span>
        <span>上一步</span>
      </button>
      <button onclick="nextStep()" class="flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition-all group">
        <span>下一步：如何使用</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">→</span>
      </button>
    </div>
  </div>

  <!-- Usage Tab -->
  <div id="step-4" class="tab-content max-w-4xl mx-auto">
    <div class="bg-slate-800 rounded-xl p-6 mb-6">
      <h2 class="text-xl font-semibold mb-4 text-cyan-400">如何在 Claude Code 中使用 LSP</h2>

      <div class="space-y-6">
        <!-- Step 1 -->
        <div class="flex gap-4">
          <div class="w-10 h-10 rounded-full bg-cyan-600 flex items-center justify-center font-bold shrink-0">1</div>
          <div class="flex-1">
            <h4 class="font-semibold text-lg">安装 LSP 插件</h4>
            <p class="text-slate-400 text-sm mt-1">在 Claude Code 中执行 <code class="bg-slate-700 px-2 py-0.5 rounded">/plugin</code> 命令</p>
          </div>
        </div>

        <!-- Step 2 -->
        <div class="flex gap-4">
          <div class="w-10 h-10 rounded-full bg-cyan-600 flex items-center justify-center font-bold shrink-0">2</div>
          <div class="flex-1">
            <h4 class="font-semibold text-lg">选择语言对应的 LSP 服务器</h4>
            <div class="bg-slate-900 rounded-lg p-3 mt-3 text-sm">
              <ul class="text-slate-400 space-y-1 text-xs">
                <li>• TypeScript: <code class="bg-slate-700 px-1 rounded">typescript-language-server</code></li>
                <li>• Python: <code class="bg-slate-700 px-1 rounded">pyright</code></li>
                <li>• Rust: <code class="bg-slate-700 px-1 rounded">rust-analyzer</code></li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Step 3 -->
        <div class="flex gap-4">
          <div class="w-10 h-10 rounded-full bg-cyan-600 flex items-center justify-center font-bold shrink-0">3</div>
          <div class="flex-1">
            <h4 class="font-semibold text-lg">让 Claude 使用 LSP</h4>
            <div class="code-block mt-3 text-sm">
              <span class="text-green-400">"请用 LSP 查找 handleSubmit 函数的定义位置"</span><br>
              <span class="text-green-400">"用 LSP 找到所有调用 getUserById 的地方"</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tips -->
    <div class="bg-amber-500/20 border border-amber-500/50 rounded-xl p-6">
      <h3 class="text-lg font-semibold mb-4 text-amber-300">使用技巧</h3>

      <div class="space-y-3 text-sm">
        <div class="flex gap-3">
          <span class="text-amber-400">💡</span>
          <p class="text-slate-300">LSP 功能目前需要<strong>明确提示</strong>才会使用</p>
        </div>
        <div class="flex gap-3">
          <span class="text-amber-400">💡</span>
          <p class="text-slate-300">LSP 对大型代码库特别有用，可以精确定位</p>
        </div>
        <div class="flex gap-3">
          <span class="text-amber-400">💡</span>
          <p class="text-slate-300">结合 LSP 和常规搜索获得最全面的代码理解</p>
        </div>
      </div>
    </div>

    <!-- Step Navigation -->
    <div class="flex justify-between items-center mt-8">
      <button onclick="prevStep()" class="flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">←</span>
        <span>上一步</span>
      </button>
      <div class="flex items-center gap-2 px-6 py-3 bg-green-600 rounded-lg font-semibold">
        <span>🎉</span>
        <span>学习完成！</span>
      </div>
    </div>
  </div>
  </div>
  <!-- End capture div -->

  <!-- Page Navigation -->
  <div class="max-w-4xl mx-auto mt-12 pt-8 border-t border-slate-700">
    <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
      <a href="llm-prompts.html" class="flex items-center gap-2 px-5 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition-all group">
        <span class="text-xl group-hover:-translate-x-1 transition-transform">←</span>
        <span>上一篇：AI 对话角色</span>
      </a>
      <a href="index.html" class="flex items-center gap-2 px-5 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg transition-all">
        <span>🏠</span>
        <span>返回首页</span>
      </a>
      <a href="vite-env-config.html" class="flex items-center gap-2 px-5 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition-all group">
        <span>下一篇：Vite 多环境配置</span>
        <span class="text-xl group-hover:translate-x-1 transition-transform">→</span>
      </a>
    </div>
  </div>

  <!-- Footer -->
  <div class="text-center mt-12 text-slate-500 text-sm">
    用心制作，让技术知识更易懂
  </div>

  <script>
    const steps = ['step-0', 'step-1', 'step-2', 'step-3', 'step-4'];
    const stepNames = ['什么是LSP', '工作原理', 'Claude Code支持', '重大影响', '如何使用'];
    let currentStep = 0;

    function updateUI() {
      // Hide all tabs, show current
      steps.forEach((step, index) => {
        const el = document.getElementById(step);
        el.classList.toggle('active', index === currentStep);
      });

      // Update step dots
      document.querySelectorAll('.step-dot').forEach((dot, index) => {
        dot.classList.remove('active', 'completed');
        if (index === currentStep) {
          dot.classList.add('active');
        } else if (index < currentStep) {
          dot.classList.add('completed');
        }
      });

      // Update step labels
      document.querySelectorAll('.step-label').forEach((label, index) => {
        label.classList.remove('text-blue-400', 'bg-blue-500/20');
        label.classList.add('text-slate-400');
        if (index === currentStep) {
          label.classList.remove('text-slate-400');
          label.classList.add('text-blue-400', 'bg-blue-500/20');
        }
      });
    }

    function nextStep() {
      if (currentStep < steps.length - 1) {
        currentStep++;
        updateUI();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    function prevStep() {
      if (currentStep > 0) {
        currentStep--;
        updateUI();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    function goToStep(step) {
      currentStep = step;
      updateUI();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Click on step dots
    document.querySelectorAll('.step-dot').forEach(dot => {
      dot.addEventListener('click', () => {
        goToStep(parseInt(dot.dataset.step));
      });
    });
  </script>
</body>
</html>
